{"id":"vPfl","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../Layer.js","loc":{"line":19,"column":26,"index":833},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/Layer.js"},{"name":"../../render/Event.js","loc":{"line":20,"column":24,"index":872},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/Event.js"},{"name":"../../render/EventType.js","loc":{"line":21,"column":28,"index":925},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/EventType.js"},{"name":"../../transform.js","loc":{"line":22,"column":97,"index":1051},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/transform.js"},{"name":"../../color.js","loc":{"line":23,"column":24,"index":1097},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/color.js"},{"name":"../../extent.js","loc":{"line":24,"column":92,"index":1207},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../dom.js","loc":{"line":25,"column":38,"index":1264},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/dom.js"},{"name":"../../array.js","loc":{"line":26,"column":23,"index":1303},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"}],"generated":{"js":"var $vPfl$exports={};$parcel$require(\"vPfl\",\"../Layer.js\"),$parcel$require(\"vPfl\",\"../../render/Event.js\"),$parcel$require(\"vPfl\",\"../../render/EventType.js\"),$parcel$require(\"vPfl\",\"../../transform.js\"),$parcel$require(\"vPfl\",\"../../color.js\"),$parcel$require(\"vPfl\",\"../../extent.js\"),$parcel$require(\"vPfl\",\"../../dom.js\"),$parcel$require(\"vPfl\",\"../../array.js\");var $vPfl$var$__extends=$vPfl$exports&&$vPfl$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$vPfl$export$canvasPool=[];$vPfl$exports.canvasPool=$vPfl$export$canvasPool;var $vPfl$var$pixelContext=null;function $vPfl$var$createPixelContext(){var t=document.createElement(\"canvas\");t.width=1,t.height=1,$vPfl$var$pixelContext=t.getContext(\"2d\")}var $vPfl$export$default=function(t){function e(e){var r=t.call(this,e)||this;return r.container=null,r.renderedResolution,r.tempTransform=$vPfl$import$createTransform(),r.pixelTransform=$vPfl$import$createTransform(),r.inversePixelTransform=$vPfl$import$createTransform(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return $vPfl$var$__extends(e,t),e.prototype.getImageData=function(t,e,r){var o;$vPfl$var$pixelContext||$vPfl$var$createPixelContext(),$vPfl$var$pixelContext.clearRect(0,0,1,1);try{$vPfl$var$pixelContext.drawImage(t,e,r,1,1,0,0,1,1),o=$vPfl$var$pixelContext.getImageData(0,0,1,1).data}catch(n){return $vPfl$var$pixelContext=null,null}return o},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return\"function\"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,r){var o,n,a=this.getLayer().getClassName();t&&t.className===a&&(!r||t&&t.style.backgroundColor&&$vPfl$import$equals($vPfl$import$asArray(t.style.backgroundColor),$vPfl$import$asArray(r)))&&((l=t.firstElementChild)instanceof HTMLCanvasElement&&(n=l.getContext(\"2d\")));if(n&&n.canvas.style.transform===e?(this.container=t,this.context=n,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement(\"div\")).className=a;var i=o.style;i.position=\"absolute\",i.width=\"100%\",i.height=\"100%\";var l=(n=$vPfl$import$createCanvasContext2D()).canvas;o.appendChild(l),(i=l.style).position=\"absolute\",i.left=\"0\",i.transformOrigin=\"top left\",this.container=o,this.context=n}this.containerReused||!r||this.container.style.backgroundColor||(this.container.style.backgroundColor=r)},e.prototype.clipUnrotated=function(t,e,r){var o=$vPfl$import$getTopLeft(r),n=$vPfl$import$getTopRight(r),a=$vPfl$import$getBottomRight(r),i=$vPfl$import$getBottomLeft(r);$vPfl$import$applyTransform(e.coordinateToPixelTransform,o),$vPfl$import$applyTransform(e.coordinateToPixelTransform,n),$vPfl$import$applyTransform(e.coordinateToPixelTransform,a),$vPfl$import$applyTransform(e.coordinateToPixelTransform,i);var l=this.inversePixelTransform;$vPfl$import$applyTransform(l,o),$vPfl$import$applyTransform(l,n),$vPfl$import$applyTransform(l,a),$vPfl$import$applyTransform(l,i),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,r){var o=this.getLayer();if(o.hasListener(t)){var n=new $vPfl$import$RenderEvent(t,this.inversePixelTransform,r,e);o.dispatchEvent(n)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_($vPfl$import$RenderEventType.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_($vPfl$import$RenderEventType.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,r,o,n,a,i){var l=n/2,$=a/2,s=o/e,p=-s,f=-t[0]+i,v=-t[1];return $vPfl$import$composeTransform(this.tempTransform,l,$,s,p,-r,f,v)},e.prototype.getDataAtPixel=function(t,e,r){var o=$vPfl$import$applyTransform(this.inversePixelTransform,t.slice()),n=this.context,a=this.getLayer().getExtent();if(a){var i=$vPfl$import$applyTransform(e.pixelToCoordinateTransform,t.slice());if(!$vPfl$import$containsCoordinate(a,i))return null}var l,$=Math.round(o[0]),s=Math.round(o[1]),p=this.pixelContext_;if(!p){var f=document.createElement(\"canvas\");f.width=1,f.height=1,p=f.getContext(\"2d\"),this.pixelContext_=p}p.clearRect(0,0,1,1);try{p.drawImage(n.canvas,$,s,1,1,0,0,1,1),l=p.getImageData(0,0,1,1).data}catch(v){return\"SecurityError\"===v.name?(this.pixelContext_=null,new Uint8Array):l}return 0===l[3]?null:l},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}($vPfl$import$LayerRenderer);$vPfl$exports.default=$vPfl$export$default;"},"sourceMaps":null,"error":null,"hash":"bc95b0c09bc85528bb58aa4ae354c124","cacheData":{"env":{},"imports":{"$vPfl$import$LayerRenderer":["../Layer.js","default"],"$vPfl$import$RenderEvent":["../../render/Event.js","default"],"$vPfl$import$RenderEventType":["../../render/EventType.js","default"],"$vPfl$import$applyTransform":["../../transform.js","apply"],"$vPfl$import$composeTransform":["../../transform.js","compose"],"$vPfl$import$createTransform":["../../transform.js","create"],"$vPfl$import$asArray":["../../color.js","asArray"],"$vPfl$import$containsCoordinate":["../../extent.js","containsCoordinate"],"$vPfl$import$getBottomLeft":["../../extent.js","getBottomLeft"],"$vPfl$import$getBottomRight":["../../extent.js","getBottomRight"],"$vPfl$import$getTopLeft":["../../extent.js","getTopLeft"],"$vPfl$import$getTopRight":["../../extent.js","getTopRight"],"$vPfl$import$createCanvasContext2D":["../../dom.js","createCanvasContext2D"],"$vPfl$import$equals":["../../array.js","equals"]},"exports":{"canvasPool":"$vPfl$export$canvasPool","default":"$vPfl$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}