{"id":"ngEc","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Executor.js","loc":{"line":4,"column":21,"index":71},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/Executor.js"},{"name":"../../extent.js","loc":{"line":5,"column":54,"index":142},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../transform.js","loc":{"line":6,"column":72,"index":233},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/transform.js"},{"name":"../../dom.js","loc":{"line":7,"column":38,"index":293},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/dom.js"},{"name":"../../obj.js","loc":{"line":8,"column":24,"index":333},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/obj.js"},{"name":"../../array.js","loc":{"line":9,"column":42,"index":391},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"},{"name":"../../geom/flat/transform.js","loc":{"line":10,"column":28,"index":437},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/geom/flat/transform.js"}],"generated":{"js":"var $ngEc$exports={};$parcel$require(\"ngEc\",\"./Executor.js\"),$parcel$require(\"ngEc\",\"../../extent.js\"),$parcel$require(\"ngEc\",\"../../transform.js\"),$parcel$require(\"ngEc\",\"../../dom.js\"),$parcel$require(\"ngEc\",\"../../obj.js\"),$parcel$require(\"ngEc\",\"../../array.js\"),$parcel$require(\"ngEc\",\"../../geom/flat/transform.js\");var $ngEc$var$ORDER=[\"Polygon\",\"Circle\",\"LineString\",\"Image\",\"Text\",\"Default\"],$ngEc$export$default=function(){function e(e,r,t,n,i,o){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=t,this.resolution_=r,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=$ngEc$import$createTransform(),this.createExecutors_(i)}return e.prototype.clip=function(e,r){var t=this.getClipCoords(r);e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.lineTo(t[6],t[7]),e.clip()},e.prototype.createExecutors_=function(e){for(var r in e){var t=this.executorsByZIndex_[r];void 0===t&&(t={},this.executorsByZIndex_[r]=t);var n=e[r];for(var i in n){var o=n[i];t[i]=new $ngEc$import$Executor(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},e.prototype.hasExecutors=function(e){for(var r in this.executorsByZIndex_)for(var t=this.executorsByZIndex_[r],n=0,i=e.length;n<i;++n)if(e[n]in t)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(e,r,t,n,i,o){var a=2*(n=Math.round(n))+1,c=$ngEc$import$composeTransform(this.hitDetectionTransform_,n+.5,n+.5,1/r,-1/r,-t,-e[0],-e[1]),$=!this.hitDetectionContext_;$&&(this.hitDetectionContext_=$ngEc$import$createCanvasContext2D(a,a));var s,x=this.hitDetectionContext_;x.canvas.width!==a||x.canvas.height!==a?(x.canvas.width=a,x.canvas.height=a):$||x.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(s=$ngEc$import$createEmpty(),$ngEc$import$extendCoordinate(s,e),$ngEc$import$buffer(s,r*(this.renderBuffer_+n),s));var u,h=$ngEc$export$getPixelIndexArray(n);function p(e,r){for(var t=x.getImageData(0,0,a,a).data,c=0,$=h.length;c<$;c++)if(t[h[c]]>0){if(!o||\"Image\"!==u&&\"Text\"!==u||-1!==o.indexOf(e)){var s=(h[c]-3)/4,p=n-s%a,g=n-(s/a|0),f=i(e,r,p*p+g*g);if(f)return f}x.clearRect(0,0,a,a);break}}var g,f,l,E,v,d=Object.keys(this.executorsByZIndex_).map(Number);for(d.sort($ngEc$import$numberSafeCompareFunction),g=d.length-1;g>=0;--g){var m=d[g].toString();for(l=this.executorsByZIndex_[m],f=$ngEc$var$ORDER.length-1;f>=0;--f)if(void 0!==(E=l[u=$ngEc$var$ORDER[f]])&&(v=E.executeHitDetection(x,c,t,p,s)))return v}},e.prototype.getClipCoords=function(e){var r=this.maxExtent_;if(!r)return null;var t=r[0],n=r[1],i=r[2],o=r[3],a=[t,n,t,o,i,o,i,n];return $ngEc$import$transform2D(a,0,8,2,e,a),a},e.prototype.isEmpty=function(){return $ngEc$import$isEmpty(this.executorsByZIndex_)},e.prototype.execute=function(e,r,t,n,i,o,a){var c=Object.keys(this.executorsByZIndex_).map(Number);c.sort($ngEc$import$numberSafeCompareFunction),this.maxExtent_&&(e.save(),this.clip(e,t));var $,s,x,u,h,p,g=o||$ngEc$var$ORDER;for(a&&c.reverse(),$=0,s=c.length;$<s;++$){var f=c[$].toString();for(h=this.executorsByZIndex_[f],x=0,u=g.length;x<u;++x){void 0!==(p=h[g[x]])&&p.execute(e,r,t,n,i,a)}}this.maxExtent_&&e.restore()},e}(),$ngEc$var$circlePixelIndexArrayCache={};function $ngEc$export$getPixelIndexArray(e){if(void 0!==$ngEc$var$circlePixelIndexArrayCache[e])return $ngEc$var$circlePixelIndexArrayCache[e];for(var r=2*e+1,t=e*e,n=new Array(t+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var a=i*i+o*o;if(a>t)break;var c=n[a];c||(c=[],n[a]=c),c.push(4*((e+i)*r+(e+o))+3),i>0&&c.push(4*((e-i)*r+(e+o))+3),o>0&&(c.push(4*((e+i)*r+(e-o))+3),i>0&&c.push(4*((e-i)*r+(e-o))+3))}for(var $=[],s=(i=0,n.length);i<s;++i)n[i]&&$.push.apply($,n[i]);return $ngEc$var$circlePixelIndexArrayCache[e]=$,$}$ngEc$exports.getPixelIndexArray=$ngEc$export$getPixelIndexArray,$ngEc$exports.default=$ngEc$export$default;"},"sourceMaps":null,"error":null,"hash":"4180de6332f10c8c7b01c3ce951a17c8","cacheData":{"env":{},"imports":{"$ngEc$import$Executor":["./Executor.js","default"],"$ngEc$import$buffer":["../../extent.js","buffer"],"$ngEc$import$createEmpty":["../../extent.js","createEmpty"],"$ngEc$import$extendCoordinate":["../../extent.js","extendCoordinate"],"$ngEc$import$composeTransform":["../../transform.js","compose"],"$ngEc$import$createTransform":["../../transform.js","create"],"$ngEc$import$createCanvasContext2D":["../../dom.js","createCanvasContext2D"],"$ngEc$import$isEmpty":["../../obj.js","isEmpty"],"$ngEc$import$numberSafeCompareFunction":["../../array.js","numberSafeCompareFunction"],"$ngEc$import$transform2D":["../../geom/flat/transform.js","transform2D"]},"exports":{"getPixelIndexArray":"$ngEc$export$getPixelIndexArray","default":"$ngEc$export$default"},"wildcards":[],"sideEffects":false,"isES6Module":true}}