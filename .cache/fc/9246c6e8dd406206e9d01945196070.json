{"id":"SMGe","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../Collection.js","loc":{"line":19,"column":23,"index":827},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/Collection.js"},{"name":"../CollectionEventType.js","loc":{"line":20,"column":32,"index":879},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/CollectionEventType.js"},{"name":"../events/Event.js","loc":{"line":21,"column":18,"index":926},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/Event.js"},{"name":"./Interaction.js","loc":{"line":22,"column":24,"index":972},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Interaction.js"},{"name":"../layer/Vector.js","loc":{"line":23,"column":24,"index":1016},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/layer/Vector.js"},{"name":"../functions.js","loc":{"line":24,"column":21,"index":1059},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/functions.js"},{"name":"../obj.js","loc":{"line":25,"column":22,"index":1100},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/obj.js"},{"name":"../style/Style.js","loc":{"line":26,"column":35,"index":1148},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/Style.js"},{"name":"../array.js","loc":{"line":27,"column":33,"index":1202},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"},{"name":"../util.js","loc":{"line":28,"column":23,"index":1240},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/util.js"},{"name":"../events/condition.js","loc":{"line":29,"column":49,"index":1303},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Select.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/condition.js"}],"generated":{"js":"var $SMGe$exports={};$parcel$require(\"SMGe\",\"../Collection.js\"),$parcel$require(\"SMGe\",\"../CollectionEventType.js\"),$parcel$require(\"SMGe\",\"../events/Event.js\"),$parcel$require(\"SMGe\",\"./Interaction.js\"),$parcel$require(\"SMGe\",\"../layer/Vector.js\"),$parcel$require(\"SMGe\",\"../functions.js\"),$parcel$require(\"SMGe\",\"../obj.js\"),$parcel$require(\"SMGe\",\"../style/Style.js\"),$parcel$require(\"SMGe\",\"../array.js\"),$parcel$require(\"SMGe\",\"../util.js\"),$parcel$require(\"SMGe\",\"../events/condition.js\");var $SMGe$var$__extends=$SMGe$exports&&$SMGe$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$SMGe$var$SelectEventType={SELECT:\"select\"},$SMGe$export$SelectEvent=function(e){function t(t,r,i,o){var n=e.call(this,t)||this;return n.selected=r,n.deselected=i,n.mapBrowserEvent=o,n}return $SMGe$var$__extends(t,e),t}($SMGe$import$Event);$SMGe$exports.SelectEvent=$SMGe$export$SelectEvent;var $SMGe$var$originalFeatureStyles={},$SMGe$export$default=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var i,o=t||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=o.condition?o.condition:$SMGe$import$singleClick,r.addCondition_=o.addCondition?o.addCondition:$SMGe$import$never,r.removeCondition_=o.removeCondition?o.removeCondition:$SMGe$import$never,r.toggleCondition_=o.toggleCondition?o.toggleCondition:$SMGe$import$shiftKeyOnly,r.multi_=!!o.multi&&o.multi,r.filter_=o.filter?o.filter:$SMGe$import$TRUE,r.hitTolerance_=o.hitTolerance?o.hitTolerance:0,r.style_=void 0!==o.style?o.style:$SMGe$var$getDefaultStyleFunction(),r.features_=o.features||new $SMGe$import$Collection,o.layers)if(\"function\"==typeof o.layers)i=o.layers;else{var n=o.layers;i=function(e){return $SMGe$import$includes(n,e)}}else i=$SMGe$import$TRUE;return r.layerFilter_=i,r.featureLayerAssociation_={},r}return $SMGe$var$__extends(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[$SMGe$import$getUid(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[$SMGe$import$getUid(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),e.prototype.setMap.call(this,t),t?(this.features_.addEventListener($SMGe$import$CollectionEventType.ADD,this.boundAddFeature_),this.features_.addEventListener($SMGe$import$CollectionEventType.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener($SMGe$import$CollectionEventType.ADD,this.boundAddFeature_),this.features_.removeEventListener($SMGe$import$CollectionEventType.REMOVE,this.boundRemoveFeature_))},t.prototype.addFeature_=function(e){var t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){var r=this.getMap().getAllLayers().find(function(e){if(e instanceof $SMGe$import$VectorLayer&&e.getSource()&&e.getSource().hasFeature(t))return e});r&&this.addFeatureLayerAssociation_(t,r)}},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.restorePreviousStyle_(t)},t.prototype.getStyle=function(){return this.style_},t.prototype.applySelectedStyle_=function(e){var t=$SMGe$import$getUid(e);t in $SMGe$var$originalFeatureStyles||($SMGe$var$originalFeatureStyles[t]=e.getStyle()),e.setStyle(this.style_)},t.prototype.restorePreviousStyle_=function(e){for(var r=this.getMap().getInteractions().getArray(),i=r.length-1;i>=0;--i){var o=r[i];if(o!==this&&o instanceof t&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(o.getStyle())}var n=$SMGe$import$getUid(e);e.setStyle($SMGe$var$originalFeatureStyles[n]),delete $SMGe$var$originalFeatureStyles[n]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[$SMGe$import$getUid(e)]},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),o=!t&&!r&&!i,n=e.map,a=this.getFeatures(),s=[],l=[];if(o){$SMGe$import$clear(this.featureLayerAssociation_),n.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),l.push(e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var $=a.getLength()-1;$>=0;--$){var u=a.item($),c=l.indexOf(u);c>-1?l.splice(c,1):(a.remove(u),s.push(u))}0!==l.length&&a.extend(l)}else{n.forEachFeatureAtPixel(e.pixel,function(e,o){if(this.filter_(e,o))return!t&&!i||$SMGe$import$includes(a.getArray(),e)?(r||i)&&$SMGe$import$includes(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(this.addFeatureLayerAssociation_(e,o),l.push(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new $SMGe$export$SelectEvent($SMGe$var$SelectEventType.SELECT,l,s,e)),!0},t}($SMGe$import$Interaction);function $SMGe$var$getDefaultStyleFunction(){var e=$SMGe$import$createEditingStyle();return $SMGe$import$extend(e.Polygon,e.LineString),$SMGe$import$extend(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}$SMGe$exports.default=$SMGe$export$default;"},"sourceMaps":null,"error":null,"hash":"709a26de1ab14f5d73b20ba1074e227c","cacheData":{"env":{},"imports":{"$SMGe$import$Collection":["../Collection.js","default"],"$SMGe$import$CollectionEventType":["../CollectionEventType.js","default"],"$SMGe$import$Event":["../events/Event.js","default"],"$SMGe$import$Interaction":["./Interaction.js","default"],"$SMGe$import$VectorLayer":["../layer/Vector.js","default"],"$SMGe$import$TRUE":["../functions.js","TRUE"],"$SMGe$import$clear":["../obj.js","clear"],"$SMGe$import$createEditingStyle":["../style/Style.js","createEditingStyle"],"$SMGe$import$extend":["../array.js","extend"],"$SMGe$import$includes":["../array.js","includes"],"$SMGe$import$getUid":["../util.js","getUid"],"$SMGe$import$never":["../events/condition.js","never"],"$SMGe$import$shiftKeyOnly":["../events/condition.js","shiftKeyOnly"],"$SMGe$import$singleClick":["../events/condition.js","singleClick"]},"exports":{"SelectEvent":"$SMGe$export$SelectEvent","default":"$SMGe$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}