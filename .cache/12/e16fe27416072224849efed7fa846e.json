{"id":"dpZ6","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../TileRange.js","loc":{"line":4,"column":70,"index":110},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/TileRange.js"},{"name":"./common.js","loc":{"line":5,"column":34,"index":163},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/common.js"},{"name":"../asserts.js","loc":{"line":6,"column":23,"index":201},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/asserts.js"},{"name":"../math.js","loc":{"line":7,"column":35,"index":253},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/math.js"},{"name":"../extent.js","loc":{"line":8,"column":43,"index":310},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../tilecoord.js","loc":{"line":9,"column":58,"index":384},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilecoord.js"},{"name":"../geom/flat/intersectsextent.js","loc":{"line":10,"column":37,"index":440},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/geom/flat/intersectsextent.js"},{"name":"../array.js","loc":{"line":11,"column":44,"index":520},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"},{"name":"../size.js","loc":{"line":12,"column":23,"index":558},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/TileGrid.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/size.js"}],"generated":{"js":"var $dpZ6$exports={};$parcel$require(\"dpZ6\",\"../TileRange.js\"),$parcel$require(\"dpZ6\",\"./common.js\"),$parcel$require(\"dpZ6\",\"../asserts.js\"),$parcel$require(\"dpZ6\",\"../math.js\"),$parcel$require(\"dpZ6\",\"../extent.js\"),$parcel$require(\"dpZ6\",\"../tilecoord.js\"),$parcel$require(\"dpZ6\",\"../geom/flat/intersectsextent.js\"),$parcel$require(\"dpZ6\",\"../array.js\"),$parcel$require(\"dpZ6\",\"../size.js\");var $dpZ6$var$tmpTileCoord=[0,0,0],$dpZ6$var$DECIMALS=5,$dpZ6$export$default=function(){function t(t){var i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,$dpZ6$import$assert($dpZ6$import$isSorted(this.resolutions_,function(t,i){return i-t},!0),17),!t.origins)for(var e=0,o=this.resolutions_.length-1;e<o;++e)if(i){if(this.resolutions_[e]/this.resolutions_[e+1]!==i){i=void 0;break}}else i=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,$dpZ6$import$assert(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=$dpZ6$import$getTopLeft(r)),$dpZ6$import$assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,$dpZ6$import$assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:$dpZ6$import$DEFAULT_TILE_SIZE,$dpZ6$import$assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,i){var e=new $dpZ6$import$TileRange(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(r){var o=this.getTileRangeForExtentAndZ(r,i);e.minX=Math.max(o.minX,e.minX),e.maxX=Math.min(o.maxX,e.maxX),e.minY=Math.max(o.minY,e.minY),e.maxY=Math.min(o.maxY,e.maxY)}return e},this):r&&this.calculateTileRanges_(r)}return t.prototype.forEachTileCoord=function(t,i,e){for(var o=this.getTileRangeForExtentAndZ(t,i),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,p=o.maxY;s<=p;++s)e([i,r,s])},t.prototype.forEachTileCoordParentTileRange=function(t,i,e,o){var r,n,s,p=null,l=t[0]-1;for(2===this.zoomFactor_?(n=t[1],s=t[2]):p=this.getTileCoordExtent(t,o);l>=this.minZoom;){if(2===this.zoomFactor_?(n=Math.floor(n/2),s=Math.floor(s/2),r=$dpZ6$import$createOrUpdateTileRange(n,n,s,s,e)):r=this.getTileRangeForExtentAndZ(p,l,e),i(l,r))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,i,e){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],r=2*t[2];return $dpZ6$import$createOrUpdateTileRange(o,o+1,r,r+1,i)}var n=this.getTileCoordExtent(t,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,t[0]+1,i)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,i,e){if(i>this.maxZoom||i<this.minZoom)return null;var o=t[0],r=t[1],n=t[2];if(i===o)return $dpZ6$import$createOrUpdateTileRange(r,n,r,n,e);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,i-o),p=Math.floor(r*s),l=Math.floor(n*s);if(i<o)return $dpZ6$import$createOrUpdateTileRange(p,p,l,l,e);var $=Math.floor(s*(r+1))-1,a=Math.floor(s*(n+1))-1;return $dpZ6$import$createOrUpdateTileRange(p,$,l,a,e)}var h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,i,e)},t.prototype.getTileRangeExtent=function(t,i,e){var o=this.getOrigin(t),r=this.getResolution(t),n=$dpZ6$import$toSize(this.getTileSize(t),this.tmpSize_),s=o[0]+i.minX*n[0]*r,p=o[0]+(i.maxX+1)*n[0]*r,l=o[1]+i.minY*n[1]*r,$=o[1]+(i.maxY+1)*n[1]*r;return $dpZ6$import$createOrUpdate(s,l,p,$,e)},t.prototype.getTileRangeForExtentAndZ=function(t,i,e){var o=$dpZ6$var$tmpTileCoord;this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,o);var r=o[1],n=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,o),$dpZ6$import$createOrUpdateTileRange(r,o[1],n,o[2],e)},t.prototype.getTileCoordCenter=function(t){var i=this.getOrigin(t[0]),e=this.getResolution(t[0]),o=$dpZ6$import$toSize(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*o[0]*e,i[1]-(t[2]+.5)*o[1]*e]},t.prototype.getTileCoordExtent=function(t,i){var e=this.getOrigin(t[0]),o=this.getResolution(t[0]),r=$dpZ6$import$toSize(this.getTileSize(t[0]),this.tmpSize_),n=e[0]+t[1]*r[0]*o,s=e[1]-(t[2]+1)*r[1]*o,p=n+r[0]*o,l=s+r[1]*o;return $dpZ6$import$createOrUpdate(n,s,p,l,i)},t.prototype.getTileCoordForCoordAndResolution=function(t,i,e){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,e)},t.prototype.getTileCoordForXYAndResolution_=function(t,i,e,o,r){var n=this.getZForResolution(e),s=e/this.getResolution(n),p=this.getOrigin(n),l=$dpZ6$import$toSize(this.getTileSize(n),this.tmpSize_),$=s*(t-p[0])/e/l[0],a=s*(p[1]-i)/e/l[1];return o?($=$dpZ6$import$ceil($,$dpZ6$var$DECIMALS)-1,a=$dpZ6$import$ceil(a,$dpZ6$var$DECIMALS)-1):($=$dpZ6$import$floor($,$dpZ6$var$DECIMALS),a=$dpZ6$import$floor(a,$dpZ6$var$DECIMALS)),$dpZ6$import$createOrUpdateTileCoord(n,$,a,r)},t.prototype.getTileCoordForXYAndZ_=function(t,i,e,o,r){var n=this.getOrigin(e),s=this.getResolution(e),p=$dpZ6$import$toSize(this.getTileSize(e),this.tmpSize_),l=(t-n[0])/s/p[0],$=(n[1]-i)/s/p[1];return o?(l=$dpZ6$import$ceil(l,$dpZ6$var$DECIMALS)-1,$=$dpZ6$import$ceil($,$dpZ6$var$DECIMALS)-1):(l=$dpZ6$import$floor(l,$dpZ6$var$DECIMALS),$=$dpZ6$import$floor($,$dpZ6$var$DECIMALS)),$dpZ6$import$createOrUpdateTileCoord(e,l,$,r)},t.prototype.getTileCoordForCoordAndZ=function(t,i,e){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,e)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,i){var e=$dpZ6$import$linearFindNearest(this.resolutions_,t,i||0);return $dpZ6$import$clamp(e,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(t,i){return $dpZ6$import$intersectsLinearRing(i,0,i.length,2,this.getTileCoordExtent(t))},t.prototype.calculateTileRanges_=function(t){for(var i=this.resolutions_.length,e=new Array(i),o=this.minZoom;o<i;++o)e[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=e},t}();$dpZ6$exports.default=$dpZ6$export$default;"},"sourceMaps":null,"error":null,"hash":"c6a9f05a8b50bf4f6109bf59c689ca02","cacheData":{"env":{},"imports":{"$dpZ6$import$TileRange":["../TileRange.js","default"],"$dpZ6$import$createOrUpdateTileRange":["../TileRange.js","createOrUpdate"],"$dpZ6$import$DEFAULT_TILE_SIZE":["./common.js","DEFAULT_TILE_SIZE"],"$dpZ6$import$assert":["../asserts.js","assert"],"$dpZ6$import$ceil":["../math.js","ceil"],"$dpZ6$import$clamp":["../math.js","clamp"],"$dpZ6$import$floor":["../math.js","floor"],"$dpZ6$import$createOrUpdate":["../extent.js","createOrUpdate"],"$dpZ6$import$getTopLeft":["../extent.js","getTopLeft"],"$dpZ6$import$createOrUpdateTileCoord":["../tilecoord.js","createOrUpdate"],"$dpZ6$import$intersectsLinearRing":["../geom/flat/intersectsextent.js","intersectsLinearRing"],"$dpZ6$import$isSorted":["../array.js","isSorted"],"$dpZ6$import$linearFindNearest":["../array.js","linearFindNearest"],"$dpZ6$import$toSize":["../size.js","toSize"]},"exports":{"default":"$dpZ6$export$default"},"wildcards":[],"sideEffects":false,"isES6Module":true}}