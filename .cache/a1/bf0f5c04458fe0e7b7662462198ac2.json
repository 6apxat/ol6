{"id":"IYO6","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../events/Event.js","loc":{"line":20,"column":18,"index":896},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22,"index":940},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/EventType.js"},{"name":"./Interaction.js","loc":{"line":22,"column":24,"index":990},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/Interaction.js"},{"name":"../functions.js","loc":{"line":23,"column":21,"index":1031},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/functions.js"},{"name":"../proj.js","loc":{"line":24,"column":37,"index":1087},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj.js"},{"name":"../events.js","loc":{"line":25,"column":38,"index":1139},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/interaction/DragAndDrop.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events.js"}],"generated":{"js":"var $IYO6$exports={};$parcel$require(\"IYO6\",\"../events/Event.js\"),$parcel$require(\"IYO6\",\"../events/EventType.js\"),$parcel$require(\"IYO6\",\"./Interaction.js\"),$parcel$require(\"IYO6\",\"../functions.js\"),$parcel$require(\"IYO6\",\"../proj.js\"),$parcel$require(\"IYO6\",\"../events.js\");var $IYO6$var$__extends=$IYO6$exports&&$IYO6$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$IYO6$var$DragAndDropEventType={ADD_FEATURES:\"addfeatures\"},$IYO6$export$DragAndDropEvent=function(t){function e(e,r,n,o){var s=t.call(this,e)||this;return s.features=n,s.file=r,s.projection=o,s}return $IYO6$var$__extends(e,t),e}($IYO6$import$Event);$IYO6$exports.DragAndDropEvent=$IYO6$export$DragAndDropEvent;var $IYO6$export$default=function(t){function e(e){var r=this,n=e||{};(r=t.call(this,{handleEvent:$IYO6$import$TRUE})||this).on,r.once,r.un,r.readAsBuffer_=!1,r.formats_=[];for(var o=n.formatConstructors?n.formatConstructors:[],s=0,i=o.length;s<i;++s){var a=o[s];\"function\"==typeof a&&(a=new a),r.formats_.push(a),r.readAsBuffer_=r.readAsBuffer_||\"arraybuffer\"===a.getType()}return r.projection_=n.projection?$IYO6$import$getProjection(n.projection):null,r.dropListenKeys_=null,r.source_=n.source||null,r.target=n.target?n.target:null,r}return $IYO6$var$__extends(e,t),e.prototype.handleResult_=function(t,e){var r,n=e.target.result,o=this.getMap(),s=this.projection_;s||(s=o.getView().getProjection());for(var i=this.formats_,a=0,p=i.length;a<p;++a){var $=i[a],u=n;this.readAsBuffer_&&\"arraybuffer\"!==$.getType()&&(void 0===r&&(r=(new TextDecoder).decode(n)),u=r);var c=this.tryReadFeatures_($,u,{featureProjection:s});if(c&&c.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(c)),this.dispatchEvent(new $IYO6$export$DragAndDropEvent($IYO6$var$DragAndDropEventType.ADD_FEATURES,t,c,s));break}}},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[$IYO6$import$listen(e,$IYO6$import$EventType.DROP,this.handleDrop,this),$IYO6$import$listen(e,$IYO6$import$EventType.DRAGENTER,this.handleStop,this),$IYO6$import$listen(e,$IYO6$import$EventType.DRAGOVER,this.handleStop,this),$IYO6$import$listen(e,$IYO6$import$EventType.DROP,this.handleStop,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(n){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach($IYO6$import$unlistenByKey),this.dropListenKeys_=null)},e.prototype.handleDrop=function(t){for(var e=t.dataTransfer.files,r=0,n=e.length;r<n;++r){var o=e.item(r),s=new FileReader;s.addEventListener($IYO6$import$EventType.LOAD,this.handleResult_.bind(this,o)),this.readAsBuffer_?s.readAsArrayBuffer(o):s.readAsText(o)}},e.prototype.handleStop=function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"},e}($IYO6$import$Interaction);$IYO6$exports.default=$IYO6$export$default;"},"sourceMaps":null,"error":null,"hash":"282b24b1040447b943cda8e5b1b885a7","cacheData":{"env":{},"imports":{"$IYO6$import$Event":["../events/Event.js","default"],"$IYO6$import$EventType":["../events/EventType.js","default"],"$IYO6$import$Interaction":["./Interaction.js","default"],"$IYO6$import$TRUE":["../functions.js","TRUE"],"$IYO6$import$getProjection":["../proj.js","get"],"$IYO6$import$listen":["../events.js","listen"],"$IYO6$import$unlistenByKey":["../events.js","unlistenByKey"]},"exports":{"DragAndDropEvent":"$IYO6$export$DragAndDropEvent","default":"$IYO6$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}