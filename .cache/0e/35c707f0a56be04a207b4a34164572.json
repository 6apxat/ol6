{"id":"rzNj","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Layer.js","loc":{"line":19,"column":32,"index":844},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js"},{"name":"../../ImageState.js","loc":{"line":20,"column":23,"index":881},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ImageState.js"},{"name":"../../ViewHint.js","loc":{"line":21,"column":21,"index":925},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ViewHint.js"},{"name":"../../reproj/common.js","loc":{"line":22,"column":43,"index":989},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/reproj/common.js"},{"name":"./common.js","loc":{"line":23,"column":66,"index":1081},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/common.js"},{"name":"../../transform.js","loc":{"line":24,"column":114,"index":1210},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/transform.js"},{"name":"../../obj.js","loc":{"line":25,"column":23,"index":1255},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/obj.js"},{"name":"../../extent.js","loc":{"line":26,"column":131,"index":1402},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../proj.js","loc":{"line":27,"column":31,"index":1452},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/ImageLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj.js"}],"generated":{"js":"var $rzNj$exports={};$parcel$require(\"rzNj\",\"./Layer.js\"),$parcel$require(\"rzNj\",\"../../ImageState.js\"),$parcel$require(\"rzNj\",\"../../ViewHint.js\"),$parcel$require(\"rzNj\",\"../../reproj/common.js\"),$parcel$require(\"rzNj\",\"./common.js\"),$parcel$require(\"rzNj\",\"../../transform.js\"),$parcel$require(\"rzNj\",\"../../obj.js\"),$parcel$require(\"rzNj\",\"../../extent.js\"),$parcel$require(\"rzNj\",\"../../proj.js\");var $rzNj$var$__extends=$rzNj$exports&&$rzNj$exports.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function i(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$rzNj$export$default=function(t){function r(r){var e=t.call(this,r)||this;return e.image_=null,e}return $rzNj$var$__extends(r,t),r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var r=t.layerStatesArray[t.layerIndex],e=t.pixelRatio,i=t.viewState,o=i.resolution,n=this.getLayer().getSource(),a=t.viewHints,$=t.extent;if(void 0!==r.extent&&($=$rzNj$import$getIntersection($,$rzNj$import$fromUserExtent(r.extent,i.projection))),!a[$rzNj$import$ViewHint.ANIMATING]&&!a[$rzNj$import$ViewHint.INTERACTING]&&!$rzNj$import$isEmpty($))if(n){var s=i.projection;if(!$rzNj$import$ENABLE_RASTER_REPROJECTION){var p=n.getProjection();p&&(s=p)}var l=n.getImage($,o,e,s);l&&(this.loadImage(l)?this.image_=l:l.getState()===$rzNj$import$ImageState.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_},r.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var e=this.getLayer(),i=$rzNj$import$applyTransform(r.pixelToCoordinateTransform,t.slice()),o=e.getExtent();if(o&&!$rzNj$import$containsCoordinate(o,i))return null;var n=this.image_.getExtent(),a=this.image_.getImage(),$=$rzNj$import$getWidth(n),s=Math.floor(a.width*((i[0]-n[0])/$));if(s<0||s>=a.width)return null;var p=$rzNj$import$getHeight(n),l=Math.floor(a.height*((n[3]-i[1])/p));return l<0||l>=a.height?null:this.getImageData(a,s,l)},r.prototype.renderFrame=function(t,r){var e=this.image_,i=e.getExtent(),o=e.getResolution(),n=e.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],$=t.pixelRatio,s=t.viewState,p=s.center,l=$*o/(s.resolution*n),m=t.extent,h=s.resolution,g=s.rotation,u=Math.round($rzNj$import$getWidth(m)/h*$),j=Math.round($rzNj$import$getHeight(m)/h*$);$rzNj$import$composeTransform(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/$,1/$,g,-u/2,-j/2),$rzNj$import$makeInverse(this.inversePixelTransform,this.pixelTransform);var c=$rzNj$import$toTransformString(this.pixelTransform);this.useContainer(r,c,this.getBackground(t));var N=this.context,f=N.canvas;f.width!=u||f.height!=j?(f.width=u,f.height=j):this.containerReused||N.clearRect(0,0,u,j);var z=!1,x=!0;if(a.extent){var d=$rzNj$import$fromUserExtent(a.extent,s.projection);(z=(x=$rzNj$import$intersectsExtent(d,t.extent))&&!$rzNj$import$containsExtent(d,t.extent))&&this.clipUnrotated(N,t,d)}var v=e.getImage(),_=$rzNj$import$composeTransform(this.tempTransform,u/2,j/2,l,l,0,n*(i[0]-p[0])/o,n*(p[1]-i[3])/o);this.renderedResolution=o*$/n;var y=v.width*_[0],I=v.height*_[3];if(this.getLayer().getSource().getInterpolate()||$rzNj$import$assign(N,$rzNj$import$IMAGE_SMOOTHING_DISABLED),this.preRender(N,t),x&&y>=.5&&I>=.5){var E=_[4],T=_[5],w=a.opacity,S=void 0;1!==w&&(S=N.globalAlpha,N.globalAlpha=w),N.drawImage(v,0,0,+v.width,+v.height,E,T,y,I),1!==w&&(N.globalAlpha=S)}return this.postRender(N,t),z&&N.restore(),$rzNj$import$assign(N,$rzNj$import$IMAGE_SMOOTHING_ENABLED),c!==f.style.transform&&(f.style.transform=c),this.container},r}($rzNj$import$CanvasLayerRenderer);$rzNj$exports.default=$rzNj$export$default;"},"sourceMaps":null,"error":null,"hash":"08fbfc045ec4242ba3332013985b9ab7","cacheData":{"env":{},"imports":{"$rzNj$import$CanvasLayerRenderer":["./Layer.js","default"],"$rzNj$import$ImageState":["../../ImageState.js","default"],"$rzNj$import$ViewHint":["../../ViewHint.js","default"],"$rzNj$import$ENABLE_RASTER_REPROJECTION":["../../reproj/common.js","ENABLE_RASTER_REPROJECTION"],"$rzNj$import$IMAGE_SMOOTHING_DISABLED":["./common.js","IMAGE_SMOOTHING_DISABLED"],"$rzNj$import$IMAGE_SMOOTHING_ENABLED":["./common.js","IMAGE_SMOOTHING_ENABLED"],"$rzNj$import$applyTransform":["../../transform.js","apply"],"$rzNj$import$composeTransform":["../../transform.js","compose"],"$rzNj$import$makeInverse":["../../transform.js","makeInverse"],"$rzNj$import$toTransformString":["../../transform.js","toString"],"$rzNj$import$assign":["../../obj.js","assign"],"$rzNj$import$containsCoordinate":["../../extent.js","containsCoordinate"],"$rzNj$import$containsExtent":["../../extent.js","containsExtent"],"$rzNj$import$getHeight":["../../extent.js","getHeight"],"$rzNj$import$getIntersection":["../../extent.js","getIntersection"],"$rzNj$import$getWidth":["../../extent.js","getWidth"],"$rzNj$import$intersectsExtent":["../../extent.js","intersects"],"$rzNj$import$isEmpty":["../../extent.js","isEmpty"],"$rzNj$import$fromUserExtent":["../../proj.js","fromUserExtent"]},"exports":{"default":"$rzNj$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}