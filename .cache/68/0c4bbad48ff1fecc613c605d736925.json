{"id":"ohHk","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./events/EventType.js","loc":{"line":19,"column":22,"index":830},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/EventType.js"},{"name":"./MapBrowserEvent.js","loc":{"line":20,"column":28,"index":883},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEvent.js"},{"name":"./MapBrowserEventType.js","loc":{"line":21,"column":32,"index":939},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventType.js"},{"name":"./pointer/EventType.js","loc":{"line":22,"column":29,"index":996},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/pointer/EventType.js"},{"name":"./events/Target.js","loc":{"line":23,"column":19,"index":1041},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/Target.js"},{"name":"./has.js","loc":{"line":24,"column":40,"index":1103},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/has.js"},{"name":"./functions.js","loc":{"line":25,"column":21,"index":1136},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/functions.js"},{"name":"./obj.js","loc":{"line":26,"column":26,"index":1180},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/obj.js"},{"name":"./events.js","loc":{"line":27,"column":38,"index":1230},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/MapBrowserEventHandler.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events.js"}],"generated":{"js":"var $ohHk$exports={};$parcel$require(\"ohHk\",\"./events/EventType.js\"),$parcel$require(\"ohHk\",\"./MapBrowserEvent.js\"),$parcel$require(\"ohHk\",\"./MapBrowserEventType.js\"),$parcel$require(\"ohHk\",\"./pointer/EventType.js\"),$parcel$require(\"ohHk\",\"./events/Target.js\"),$parcel$require(\"ohHk\",\"./has.js\"),$parcel$require(\"ohHk\",\"./functions.js\"),$parcel$require(\"ohHk\",\"./obj.js\"),$parcel$require(\"ohHk\",\"./events.js\");var $ohHk$var$__extends=$ohHk$exports&&$ohHk$exports.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(t,o)};return function(t,o){if(\"function\"!=typeof o&&null!==o)throw new TypeError(\"Class extends value \"+String(o)+\" is not a constructor or null\");function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$ohHk$export$default=function(e){function t(t,o){var i=e.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===o?1:o,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=$ohHk$import$listen(r,$ohHk$import$PointerEventType.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=$ohHk$import$listen(r,$ohHk$import$PointerEventType.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener($ohHk$import$EventType.TOUCHMOVE,i.boundHandleTouchMove_,!!$ohHk$import$PASSIVE_EVENT_LISTENERS&&{passive:!1}),i}return $ohHk$var$__extends(t,e),t.prototype.emulateClick_=function(e){var t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e,o=t.pointerId;if(t.type==$ohHk$import$MapBrowserEventType.POINTERUP||t.type==$ohHk$import$MapBrowserEventType.POINTERCANCEL){for(var i in delete this.trackedTouches_[o],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else t.type!=$ohHk$import$MapBrowserEventType.POINTERDOWN&&t.type!=$ohHk$import$MapBrowserEventType.POINTERMOVE||(this.trackedTouches_[o]=t);this.activePointers_=$ohHk$import$getValues(this.trackedTouches_)},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach($ohHk$import$unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var o in this.dispatchEvent(t),this.down_={},e){var i=e[o];this.down_[o]=\"function\"==typeof i?$ohHk$import$VOID:i}if(0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push($ohHk$import$listen(r,$ohHk$import$MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),$ohHk$import$listen(r,$ohHk$import$MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),$ohHk$import$listen(this.element_,$ohHk$import$MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push($ohHk$import$listen(this.element_.getRootNode(),$ohHk$import$MapBrowserEventType.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}},t.prototype.relayMoveEvent_=function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new $ohHk$import$MapBrowserEvent($ohHk$import$MapBrowserEventType.POINTERMOVE,this.map_,e,t))},t.prototype.handleTouchMove_=function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||\"boolean\"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&($ohHk$import$unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($ohHk$import$EventType.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&($ohHk$import$unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach($ohHk$import$unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}($ohHk$import$Target);$ohHk$exports.default=$ohHk$export$default;"},"sourceMaps":null,"error":null,"hash":"ebdb675417c1c614fcae7b1bf6f60ad7","cacheData":{"env":{},"imports":{"$ohHk$import$EventType":["./events/EventType.js","default"],"$ohHk$import$MapBrowserEvent":["./MapBrowserEvent.js","default"],"$ohHk$import$MapBrowserEventType":["./MapBrowserEventType.js","default"],"$ohHk$import$PointerEventType":["./pointer/EventType.js","default"],"$ohHk$import$Target":["./events/Target.js","default"],"$ohHk$import$PASSIVE_EVENT_LISTENERS":["./has.js","PASSIVE_EVENT_LISTENERS"],"$ohHk$import$VOID":["./functions.js","VOID"],"$ohHk$import$getValues":["./obj.js","getValues"],"$ohHk$import$listen":["./events.js","listen"],"$ohHk$import$unlistenByKey":["./events.js","unlistenByKey"]},"exports":{"default":"$ohHk$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}