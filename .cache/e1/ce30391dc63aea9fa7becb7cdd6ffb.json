{"id":"xV5P","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/geotiff/package.json","includedInParent":true,"mtime":1679700660922},{"name":"./globals.js","loc":{"line":7,"column":74,"index":256},"parent":"/home/i6apxat/htdocs/ol6/node_modules/geotiff/dist-module/geotiffwriter.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/geotiff/dist-module/globals.js"},{"name":"./utils.js","loc":{"line":8,"column":57,"index":329},"parent":"/home/i6apxat/htdocs/ol6/node_modules/geotiff/dist-module/geotiffwriter.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/geotiff/dist-module/utils.js"}],"generated":{"js":"var $xV5P$exports={};function $xV5P$var$_createForOfIteratorHelper(r,e){var t=\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(!t){if(Array.isArray(r)||(t=$xV5P$var$_unsupportedIterableToArray(r))||e&&r&&\"number\"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,$=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return a=r.done,r},e:function(r){$=!0,i=r},f:function(){try{a||null==t.return||t.return()}finally{if($)throw i}}}}function $xV5P$var$_unsupportedIterableToArray(r,e){if(r){if(\"string\"==typeof r)return $xV5P$var$_arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return\"Object\"===t&&r.constructor&&(t=r.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(r):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$xV5P$var$_arrayLikeToArray(r,e):void 0}}function $xV5P$var$_arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}$parcel$require(\"xV5P\",\"./globals.js\"),$parcel$require(\"xV5P\",\"./utils.js\");var $xV5P$var$tagName2Code=$xV5P$import$invert($xV5P$import$fieldTagNames),$xV5P$var$geoKeyName2Code=$xV5P$import$invert($xV5P$import$geoKeyNames),$xV5P$var$name2code={};$xV5P$import$assign($xV5P$var$name2code,$xV5P$var$tagName2Code),$xV5P$import$assign($xV5P$var$name2code,$xV5P$var$geoKeyName2Code);var $xV5P$var$typeName2byte=$xV5P$import$invert($xV5P$import$fieldTypeNames),$xV5P$var$numBytesInIfd=1e3,$xV5P$var$_binBE={nextZero:function(r,e){for(var t=e;0!==r[t];)t++;return t},readUshort:function(r,e){return r[e]<<8|r[e+1]},readShort:function(r,e){var t=$xV5P$var$_binBE.ui8;return t[0]=r[e+1],t[1]=r[e+0],$xV5P$var$_binBE.i16[0]},readInt:function(r,e){var t=$xV5P$var$_binBE.ui8;return t[0]=r[e+3],t[1]=r[e+2],t[2]=r[e+1],t[3]=r[e+0],$xV5P$var$_binBE.i32[0]},readUint:function(r,e){var t=$xV5P$var$_binBE.ui8;return t[0]=r[e+3],t[1]=r[e+2],t[2]=r[e+1],t[3]=r[e+0],$xV5P$var$_binBE.ui32[0]},readASCII:function(r,e,t){return t.map(function(t){return String.fromCharCode(r[e+t])}).join(\"\")},readFloat:function(r,e){var t=$xV5P$var$_binBE.ui8;return $xV5P$import$times(4,function(n){t[n]=r[e+3-n]}),$xV5P$var$_binBE.fl32[0]},readDouble:function(r,e){var t=$xV5P$var$_binBE.ui8;return $xV5P$import$times(8,function(n){t[n]=r[e+7-n]}),$xV5P$var$_binBE.fl64[0]},writeUshort:function(r,e,t){r[e]=t>>8&255,r[e+1]=255&t},writeUint:function(r,e,t){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t>>0&255},writeASCII:function(r,e,t){$xV5P$import$times(t.length,function(n){r[e+n]=t.charCodeAt(n)})},ui8:new Uint8Array(8)};$xV5P$var$_binBE.fl64=new Float64Array($xV5P$var$_binBE.ui8.buffer),$xV5P$var$_binBE.writeDouble=function(r,e,t){$xV5P$var$_binBE.fl64[0]=t,$xV5P$import$times(8,function(t){r[e+t]=$xV5P$var$_binBE.ui8[7-t]})};var $xV5P$var$_writeIFD=function(r,e,t,n){var o=t,i=Object.keys(n).filter(function(r){return null!=r&&\"undefined\"!==r});r.writeUshort(e,o,i.length);var a,$=(o+=2)+12*i.length+4,u=$xV5P$var$_createForOfIteratorHelper(i);try{var f=function(){var t=a.value,i=null;\"number\"==typeof t?i=t:\"string\"==typeof t&&(i=parseInt(t,10));var u=$xV5P$import$fieldTagTypes[i],f=$xV5P$var$typeName2byte[u];if(null==u||void 0===u||void 0===u)throw new Error(\"unknown type of tag: \".concat(i));var c=n[t];if(void 0===c)throw new Error(\"failed to get value for key \".concat(t));\"ASCII\"===u&&\"string\"==typeof c&&!1===$xV5P$import$endsWith(c,\"\\0\")&&(c+=\"\\0\");var P=c.length;r.writeUshort(e,o,i),o+=2,r.writeUshort(e,o,f),o+=2,r.writeUint(e,o,P);var m=[-1,1,1,2,4,8,0,0,0,0,0,0,8][f]*P,s=o+=4;m>4&&(r.writeUint(e,o,$),s=$),\"ASCII\"===u?r.writeASCII(e,s,c):\"SHORT\"===u?$xV5P$import$times(P,function(t){r.writeUshort(e,s+2*t,c[t])}):\"LONG\"===u?$xV5P$import$times(P,function(t){r.writeUint(e,s+4*t,c[t])}):\"RATIONAL\"===u?$xV5P$import$times(P,function(t){r.writeUint(e,s+8*t,Math.round(1e4*c[t])),r.writeUint(e,s+8*t+4,1e4)}):\"DOUBLE\"===u&&$xV5P$import$times(P,function(t){r.writeDouble(e,s+8*t,c[t])}),m>4&&($+=m+=1&m),o+=4};for(u.s();!(a=u.n()).done;)f()}catch(c){u.e(c)}finally{u.f()}return[o,$]},$xV5P$var$encodeIfds=function(r){var e=new Uint8Array($xV5P$var$numBytesInIfd),t=4,n=$xV5P$var$_binBE;e[0]=77,e[1]=77,e[3]=42;var o=8;if(n.writeUint(e,t,o),t+=4,r.forEach(function(t,i){var a=$xV5P$var$_writeIFD(n,e,o,t);o=a[1],i<r.length-1&&n.writeUint(e,a[0],o)}),e.slice)return e.slice(0,o).buffer;for(var i=new Uint8Array(o),a=0;a<o;a++)i[a]=e[a];return i.buffer},$xV5P$var$encodeImage=function(r,e,t,n){if(null==t)throw new Error(\"you passed into encodeImage a width of type \".concat(t));if(null==e)throw new Error(\"you passed into encodeImage a width of type \".concat(e));var o={256:[e],257:[t],273:[$xV5P$var$numBytesInIfd],278:[t],305:\"geotiff.js\"};if(n)for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);var a=new Uint8Array($xV5P$var$encodeIfds([o])),$=new Uint8Array(r),u=o[277],f=new Uint8Array($xV5P$var$numBytesInIfd+e*t*u);return $xV5P$import$times(a.length,function(r){f[r]=a[r]}),$xV5P$import$forEach($,function(r,e){f[$xV5P$var$numBytesInIfd+e]=r}),f.buffer},$xV5P$var$convertToTids=function(r){var e={};for(var t in r)\"StripOffsets\"!==t&&($xV5P$var$name2code[t]||console.error(t,\"not in name2code:\",Object.keys($xV5P$var$name2code)),e[$xV5P$var$name2code[t]]=r[t]);return e},$xV5P$var$toArray=function(r){return Array.isArray(r)?r:[r]},$xV5P$var$metadataDefaults=[[\"Compression\",1],[\"PlanarConfiguration\",1],[\"ExtraSamples\",0]];function $xV5P$export$writeGeotiff(r,e){var t,n,o,i;\"number\"==typeof r[0]?(t=e.height||e.ImageLength,o=e.width||e.ImageWidth,n=r.length/(t*o),i=r):(n=r.length,t=r[0].length,o=r[0][0].length,i=[],$xV5P$import$times(t,function(e){$xV5P$import$times(o,function(t){$xV5P$import$times(n,function(n){i.push(r[n][e][t])})})})),e.ImageLength=t,delete e.height,e.ImageWidth=o,delete e.width,e.BitsPerSample||(e.BitsPerSample=$xV5P$import$times(n,function(){return 8})),$xV5P$var$metadataDefaults.forEach(function(r){var t=r[0];if(!e[t]){var n=r[1];e[t]=n}}),e.PhotometricInterpretation||(e.PhotometricInterpretation=3===e.BitsPerSample.length?2:1),e.SamplesPerPixel||(e.SamplesPerPixel=[n]),e.StripByteCounts||(e.StripByteCounts=[n*t*o]),e.ModelPixelScale||(e.ModelPixelScale=[360/o,180/t,0]),e.SampleFormat||(e.SampleFormat=$xV5P$import$times(n,function(){return 1})),e.hasOwnProperty(\"GeographicTypeGeoKey\")||e.hasOwnProperty(\"ProjectedCSTypeGeoKey\")||(e.GeographicTypeGeoKey=4326,e.ModelTiepoint=[0,0,0,-180,90,0],e.GeogCitationGeoKey=\"WGS 84\",e.GTModelTypeGeoKey=2);var a=Object.keys(e).filter(function(r){return $xV5P$import$endsWith(r,\"GeoKey\")}).sort(function(r,e){return $xV5P$var$name2code[r]-$xV5P$var$name2code[e]});if(!e.GeoAsciiParams){var $=\"\";a.forEach(function(r){var t=Number($xV5P$var$name2code[r]);\"ASCII\"===$xV5P$import$fieldTagTypes[t]&&($+=\"\".concat(e[r].toString(),\"\\0\"))}),$.length>0&&(e.GeoAsciiParams=$)}if(!e.GeoKeyDirectory){var u=[1,1,0,a.length];a.forEach(function(r){var t,n,o,i=Number($xV5P$var$name2code[r]);u.push(i),\"SHORT\"===$xV5P$import$fieldTagTypes[i]?(t=1,n=0,o=e[r]):\"GeogCitationGeoKey\"===r?(t=e.GeoAsciiParams.length,n=Number($xV5P$var$name2code.GeoAsciiParams),o=0):console.log(\"[geotiff.js] couldn't get TIFFTagLocation for \".concat(r)),u.push(n),u.push(t),u.push(o)}),e.GeoKeyDirectory=u}for(var f in a)a.hasOwnProperty(f)&&delete e[f];[\"Compression\",\"ExtraSamples\",\"GeographicTypeGeoKey\",\"GTModelTypeGeoKey\",\"GTRasterTypeGeoKey\",\"ImageLength\",\"ImageWidth\",\"Orientation\",\"PhotometricInterpretation\",\"ProjectedCSTypeGeoKey\",\"PlanarConfiguration\",\"ResolutionUnit\",\"SamplesPerPixel\",\"XPosition\",\"YPosition\"].forEach(function(r){e[r]&&(e[r]=$xV5P$var$toArray(e[r]))});var c=$xV5P$var$convertToTids(e);return $xV5P$var$encodeImage(i,o,t,c)}$xV5P$exports.writeGeotiff=$xV5P$export$writeGeotiff;"},"sourceMaps":null,"error":null,"hash":"d90578969c1d900b4356b53e3ebc9b14","cacheData":{"env":{},"imports":{"$xV5P$import$fieldTagNames":["./globals.js","fieldTagNames"],"$xV5P$import$fieldTagTypes":["./globals.js","fieldTagTypes"],"$xV5P$import$fieldTypeNames":["./globals.js","fieldTypeNames"],"$xV5P$import$geoKeyNames":["./globals.js","geoKeyNames"],"$xV5P$import$assign":["./utils.js","assign"],"$xV5P$import$endsWith":["./utils.js","endsWith"],"$xV5P$import$forEach":["./utils.js","forEach"],"$xV5P$import$invert":["./utils.js","invert"],"$xV5P$import$times":["./utils.js","times"]},"exports":{"writeGeotiff":"$xV5P$export$writeGeotiff"},"wildcards":[],"sideEffects":false,"isES6Module":true}}