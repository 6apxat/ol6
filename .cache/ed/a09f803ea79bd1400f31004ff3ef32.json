{"id":"sV2m","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../events/EventType.js","loc":{"line":19,"column":22,"index":822},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/EventType.js"},{"name":"../Feature.js","loc":{"line":20,"column":20,"index":868},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/Feature.js"},{"name":"../geom/Point.js","loc":{"line":21,"column":18,"index":903},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/geom/Point.js"},{"name":"./Vector.js","loc":{"line":22,"column":25,"index":948},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Vector.js"},{"name":"../coordinate.js","loc":{"line":23,"column":63,"index":1026},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/coordinate.js"},{"name":"../asserts.js","loc":{"line":24,"column":23,"index":1069},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/asserts.js"},{"name":"../extent.js","loc":{"line":25,"column":78,"index":1164},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../util.js","loc":{"line":26,"column":23,"index":1203},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/source/Cluster.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/util.js"}],"generated":{"js":"var $sV2m$exports={};$parcel$require(\"sV2m\",\"../events/EventType.js\"),$parcel$require(\"sV2m\",\"../Feature.js\"),$parcel$require(\"sV2m\",\"../geom/Point.js\"),$parcel$require(\"sV2m\",\"./Vector.js\"),$parcel$require(\"sV2m\",\"../coordinate.js\"),$parcel$require(\"sV2m\",\"../asserts.js\"),$parcel$require(\"sV2m\",\"../extent.js\"),$parcel$require(\"sV2m\",\"../util.js\");var $sV2m$var$__extends=$sV2m$exports&&$sV2m$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function s(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$sV2m$export$default=function(t){function e(e){var r=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.minDistance=e.minDistance||0,r.interpolationRatio=0,r.features=[],r.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return $sV2m$import$assert(\"Point\"==e.getType(),10),e},r.createCustomCluster_=e.createCluster,r.source=null,r.boundRefresh_=r.refresh.bind(r),r.updateDistance(r.distance,r.minDistance),r.setSource(e.source||null),r}return $sV2m$var$__extends(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,r){this.source.loadFeatures(t,e,r),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener($sV2m$import$EventType.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener($sV2m$import$EventType.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var r=0===t?0:Math.min(e,t)/t,s=t!==this.distance||this.interpolationRatio!==r;this.distance=t,this.minDistance=e,this.interpolationRatio=r,s&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=$sV2m$import$createEmpty(),e=this.distance*this.resolution,r=this.source.getFeatures(),s={},i=0,o=r.length;i<o;i++){var n=r[i];if(!($sV2m$import$getUid(n)in s)){var a=this.geometryFunction(n);if(a){var u=a.getCoordinates();$sV2m$import$createOrUpdateFromCoordinate(u,t),$sV2m$import$buffer(t,e,t);var c=this.source.getFeaturesInExtent(t).filter(function(t){var e=$sV2m$import$getUid(t);return!(e in s)&&(s[e]=!0,!0)});this.features.push(this.createCluster(c,t))}}}},e.prototype.createCluster=function(t,e){for(var r=[0,0],s=t.length-1;s>=0;--s){var i=this.geometryFunction(t[s]);i?$sV2m$import$addCoordinate(r,i.getCoordinates()):t.splice(s,1)}$sV2m$import$scaleCoordinate(r,1/t.length);var o=$sV2m$import$getCenter(e),n=this.interpolationRatio,a=new $sV2m$import$Point([r[0]*(1-n)+o[0]*n,r[1]*(1-n)+o[1]*n]);return this.createCustomCluster_?this.createCustomCluster_(a,t):new $sV2m$import$Feature({geometry:a,features:t})},e}($sV2m$import$VectorSource);$sV2m$exports.default=$sV2m$export$default;"},"sourceMaps":null,"error":null,"hash":"47b8690372cbb891e18c23d68361f80b","cacheData":{"env":{},"imports":{"$sV2m$import$EventType":["../events/EventType.js","default"],"$sV2m$import$Feature":["../Feature.js","default"],"$sV2m$import$Point":["../geom/Point.js","default"],"$sV2m$import$VectorSource":["./Vector.js","default"],"$sV2m$import$addCoordinate":["../coordinate.js","add"],"$sV2m$import$scaleCoordinate":["../coordinate.js","scale"],"$sV2m$import$assert":["../asserts.js","assert"],"$sV2m$import$buffer":["../extent.js","buffer"],"$sV2m$import$createEmpty":["../extent.js","createEmpty"],"$sV2m$import$createOrUpdateFromCoordinate":["../extent.js","createOrUpdateFromCoordinate"],"$sV2m$import$getCenter":["../extent.js","getCenter"],"$sV2m$import$getUid":["../util.js","getUid"]},"exports":{"default":"$sV2m$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}