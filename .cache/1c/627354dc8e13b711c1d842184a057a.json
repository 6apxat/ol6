{"id":"il3X","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../ImageState.js","loc":{"line":19,"column":23,"index":827},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ImageState.js"},{"name":"./Image.js","loc":{"line":20,"column":23,"index":870},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/Image.js"},{"name":"../color.js","loc":{"line":21,"column":24,"index":908},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/color.js"},{"name":"../colorlike.js","loc":{"line":22,"column":28,"index":951},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/colorlike.js"},{"name":"../dom.js","loc":{"line":23,"column":38,"index":1008},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/dom.js"},{"name":"../render/canvas.js","loc":{"line":24,"column":108,"index":1129},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/RegularShape.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas.js"}],"generated":{"js":"var $il3X$exports={};$parcel$require(\"il3X\",\"../ImageState.js\"),$parcel$require(\"il3X\",\"./Image.js\"),$parcel$require(\"il3X\",\"../color.js\"),$parcel$require(\"il3X\",\"../colorlike.js\"),$parcel$require(\"il3X\",\"../dom.js\"),$parcel$require(\"il3X\",\"../render/canvas.js\");var $il3X$var$__extends=$il3X$exports&&$il3X$exports.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$il3X$export$default=function(t){function i(i){var e=this,r=void 0!==i.rotateWithView&&i.rotateWithView;return(e=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],declutterMode:i.declutterMode})||this).canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=void 0!==i.fill?i.fill:null,e.origin_=[0,0],e.points_=i.points,e.radius_=void 0!==i.radius?i.radius:i.radius1,e.radius2_=i.radius2,e.angle_=void 0!==i.angle?i.angle:0,e.stroke_=void 0!==i.stroke?i.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return $il3X$var$__extends(i,t),i.prototype.clone=function(){var t=this.getScale(),e=new i({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e},i.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var i=this.getDisplacement();return[t[0]/2-i[0],t[1]/2+i[1]]},i.prototype.getAngle=function(){return this.angle_},i.prototype.getFill=function(){return this.fill_},i.prototype.setFill=function(t){this.fill_=t,this.render()},i.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},i.prototype.getImage=function(t){var i=this.canvas_[t];if(!i){var e=this.renderOptions_,r=$il3X$import$createCanvasContext2D(e.size*t,e.size*t);this.draw_(e,r,t),i=r.canvas,this.canvas_[t]=i}return i},i.prototype.getPixelRatio=function(t){return t},i.prototype.getImageSize=function(){return this.size_},i.prototype.getImageState=function(){return $il3X$import$ImageState.LOADED},i.prototype.getOrigin=function(){return this.origin_},i.prototype.getPoints=function(){return this.points_},i.prototype.getRadius=function(){return this.radius_},i.prototype.getRadius2=function(){return this.radius2_},i.prototype.getSize=function(){return this.size_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.setStroke=function(t){this.stroke_=t,this.render()},i.prototype.listenImageChange=function(t){},i.prototype.load=function(){},i.prototype.unlistenImageChange=function(t){},i.prototype.calculateLineJoinSize_=function(t,i,e){if(0===i||this.points_===1/0||\"bevel\"!==t&&\"miter\"!==t)return i;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var s=r;r=o,o=s}var n=void 0===this.radius2_?this.points_:2*this.points_,a=2*Math.PI/n,l=o*Math.sin(a),h=r-Math.sqrt(o*o-l*l),u=Math.sqrt(l*l+h*h),p=u/l;if(\"miter\"===t&&p<=e)return p*i;var c=i/2/p,d=i/2*(h/u),f=Math.sqrt((r+c)*(r+c)+d*d)-r;if(void 0===this.radius2_||\"bevel\"===t)return 2*f;var _=r*Math.sin(a),$=o-Math.sqrt(r*r-_*_),v=Math.sqrt(_*_+$*$)/_;if(v<=e){var g=v*i/2-o-r;return 2*Math.max(f,g)}return 2*f},i.prototype.createRenderOptions=function(){var t,i=$il3X$import$defaultLineJoin,e=0,r=null,o=0,s=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=$il3X$import$defaultStrokeStyle),t=$il3X$import$asColorLike(t),void 0===(s=this.stroke_.getWidth())&&(s=$il3X$import$defaultLineWidth),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=$il3X$import$defaultLineJoin),void 0===(e=this.stroke_.getMiterLimit())&&(e=$il3X$import$defaultMiterLimit));var n=this.calculateLineJoinSize_(i,s,e),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:s,size:Math.ceil(2*a+n),lineDash:r,lineDashOffset:o,lineJoin:i,miterLimit:e}},i.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},i.prototype.draw_=function(t,i,e){if(i.scale(e,e),i.translate(t.size/2,t.size/2),this.createPath_(i),this.fill_){var r=this.fill_.getColor();null===r&&(r=$il3X$import$defaultFillStyle),i.fillStyle=$il3X$import$asColorLike(r),i.fill()}this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,i.setLineDash&&t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())},i.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var i=this.fill_.getColor(),e=0;if(\"string\"==typeof i&&(i=$il3X$import$asArray(i)),null===i?e=1:Array.isArray(i)&&(e=4===i.length?i[3]:1),0===e){var r=$il3X$import$createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},i.prototype.createPath_=function(t){var i=this.points_,e=this.radius_;if(i===1/0)t.arc(0,0,e,0,2*Math.PI);else{var r=void 0===this.radius2_?e:this.radius2_;void 0!==this.radius2_&&(i*=2);for(var o=this.angle_-Math.PI/2,s=2*Math.PI/i,n=0;n<i;n++){var a=o+n*s,l=n%2==0?e:r;t.lineTo(l*Math.cos(a),l*Math.sin(a))}t.closePath()}},i.prototype.drawHitDetectionCanvas_=function(t,i){i.translate(t.size/2,t.size/2),this.createPath_(i),i.fillStyle=$il3X$import$defaultFillStyle,i.fill(),this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())},i}($il3X$import$ImageStyle);$il3X$exports.default=$il3X$export$default;"},"sourceMaps":null,"error":null,"hash":"90dfb59eeb6c8da481de9c837d2b4005","cacheData":{"env":{},"imports":{"$il3X$import$ImageState":["../ImageState.js","default"],"$il3X$import$ImageStyle":["./Image.js","default"],"$il3X$import$asArray":["../color.js","asArray"],"$il3X$import$asColorLike":["../colorlike.js","asColorLike"],"$il3X$import$createCanvasContext2D":["../dom.js","createCanvasContext2D"],"$il3X$import$defaultFillStyle":["../render/canvas.js","defaultFillStyle"],"$il3X$import$defaultLineJoin":["../render/canvas.js","defaultLineJoin"],"$il3X$import$defaultLineWidth":["../render/canvas.js","defaultLineWidth"],"$il3X$import$defaultMiterLimit":["../render/canvas.js","defaultMiterLimit"],"$il3X$import$defaultStrokeStyle":["../render/canvas.js","defaultStrokeStyle"]},"exports":{"default":"$il3X$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}