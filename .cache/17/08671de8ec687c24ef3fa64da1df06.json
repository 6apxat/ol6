{"id":"F2e3","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"../../render/canvas/BuilderGroup.js","loc":{"line":19,"column":31,"index":844},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/BuilderGroup.js"},{"name":"./Layer.js","loc":{"line":20,"column":48,"index":931},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/Layer.js"},{"name":"../../render/canvas/ExecutorGroup.js","loc":{"line":21,"column":26,"index":971},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/ExecutorGroup.js"},{"name":"../../ViewHint.js","loc":{"line":22,"column":21,"index":1032},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ViewHint.js"},{"name":"../../render/canvas/hitdetect.js","loc":{"line":23,"column":79,"index":1132},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js"},{"name":"../../transform.js","loc":{"line":24,"column":78,"index":1246},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/transform.js"},{"name":"../../extent.js","loc":{"line":25,"column":117,"index":1385},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../dom.js","loc":{"line":26,"column":53,"index":1457},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/dom.js"},{"name":"../vector.js","loc":{"line":27,"column":153,"index":1626},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/vector.js"},{"name":"../../array.js","loc":{"line":28,"column":23,"index":1665},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"},{"name":"../../proj.js","loc":{"line":29,"column":112,"index":1795},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj.js"},{"name":"../../util.js","loc":{"line":30,"column":23,"index":1835},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/util.js"},{"name":"../../coordinate.js","loc":{"line":31,"column":41,"index":1893},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/coordinate.js"}],"generated":{"js":"var $F2e3$exports={};$parcel$require(\"F2e3\",\"../../render/canvas/BuilderGroup.js\"),$parcel$require(\"F2e3\",\"./Layer.js\"),$parcel$require(\"F2e3\",\"../../render/canvas/ExecutorGroup.js\"),$parcel$require(\"F2e3\",\"../../ViewHint.js\"),$parcel$require(\"F2e3\",\"../../render/canvas/hitdetect.js\"),$parcel$require(\"F2e3\",\"../../transform.js\"),$parcel$require(\"F2e3\",\"../../extent.js\"),$parcel$require(\"F2e3\",\"../../dom.js\"),$parcel$require(\"F2e3\",\"../vector.js\"),$parcel$require(\"F2e3\",\"../../array.js\"),$parcel$require(\"F2e3\",\"../../proj.js\"),$parcel$require(\"F2e3\",\"../../util.js\"),$parcel$require(\"F2e3\",\"../../coordinate.js\");var $F2e3$var$__extends=$F2e3$exports&&$F2e3$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$F2e3$export$default=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=$F2e3$import$createEmpty(),r.wrappedRenderedExtent_=$F2e3$import$createEmpty(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return $F2e3$var$__extends(t,e),t.prototype.renderWorlds=function(e,t,r){var i=t.extent,n=t.viewState,o=n.center,a=n.resolution,s=n.projection,p=n.rotation,$=s.getExtent(),u=this.getLayer().getSource(),d=t.pixelRatio,c=t.viewHints,l=!(c[$F2e3$import$ViewHint.ANIMATING]||c[$F2e3$import$ViewHint.INTERACTING]),h=this.compositionContext_,m=Math.round(t.size[0]*d),_=Math.round(t.size[1]*d),g=u.getWrapX()&&s.canWrapX(),F=g?$F2e3$import$getWidth($):null,f=g?Math.ceil((i[2]-$[2])/F)+1:1,x=g?Math.floor((i[0]-$[0])/F):0;do{var v=this.getRenderTransform(o,a,p,d,m,_,x*F);e.execute(h,1,v,p,l,void 0,r)}while(++x<f)},t.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var e=$F2e3$import$createCanvasContext2D(this.context.canvas.width,this.context.canvas.height,$F2e3$import$canvasPool);this.compositionContext_=e}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,$F2e3$import$releaseCanvas(this.compositionContext_),$F2e3$import$canvasPool.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];$F2e3$import$makeScale(this.pixelTransform,1/r,1/r),$F2e3$import$makeInverse(this.inversePixelTransform,this.pixelTransform);var n=$F2e3$import$transformToString(this.pixelTransform);this.useContainer(t,n,this.getBackground(e));var o=this.context,a=o.canvas,s=this.replayGroup_,p=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!p||p.isEmpty()))return null;var $=Math.round(e.size[0]*r),u=Math.round(e.size[1]*r);a.width!=$||a.height!=u?(a.width=$,a.height=u,a.style.transform!==n&&(a.style.transform=n)):this.containerReused||o.clearRect(0,0,$,u),this.preRender(o,e);var d=e.viewState,c=d.projection;this.opacity_=i.opacity,this.setupCompositionContext_();var l=!1,h=!0;if(i.extent&&this.clipping){var m=$F2e3$import$fromUserExtent(i.extent,c);(l=(h=$F2e3$import$intersectsExtent(m,e.extent))&&!$F2e3$import$containsExtent(m,e.extent))&&this.clipUnrotated(this.compositionContext_,e,m)}return h&&this.renderWorlds(s,e),l&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];$F2e3$import$apply(this.pixelTransform,r);var i=this.renderedCenter_,n=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,p=this.getLayer(),$=[],u=r[0]*$F2e3$import$HIT_DETECT_RESOLUTION,d=r[1]*$F2e3$import$HIT_DETECT_RESOLUTION;$.push(this.getRenderTransform(i,n,o,$F2e3$import$HIT_DETECT_RESOLUTION,u,d,0).slice());var c=p.getSource(),l=a.getExtent();if(c.getWrapX()&&a.canWrapX()&&!$F2e3$import$containsExtent(l,s)){for(var h=s[0],m=$F2e3$import$getWidth(l),_=0,g=void 0;h<l[0];)g=m*--_,$.push(this.getRenderTransform(i,n,o,$F2e3$import$HIT_DETECT_RESOLUTION,u,d,g).slice()),h+=m;for(_=0,h=s[2];h>l[2];)g=m*++_,$.push(this.getRenderTransform(i,n,o,$F2e3$import$HIT_DETECT_RESOLUTION,u,d,g).slice()),h-=m}this.hitDetectionImageData_=$F2e3$import$createHitDetectionImageData(r,$,this.renderedFeatures_,p.getStyleFunction(),s,n,o)}t($F2e3$import$hitDetect(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,n){var o=this;if(this.replayGroup_){var a,s=t.viewState.resolution,p=t.viewState.rotation,$=this.getLayer(),u={},d=function(e,t,r){var o=$F2e3$import$getUid(e),a=u[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return u[o]=!0,n.splice(n.lastIndexOf(a),1),i(e,$,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return u[o]=!0,i(e,$,t);n.push(u[o]={feature:e,layer:$,geometry:t,distanceSq:r,callback:i})}},c=[this.replayGroup_];return this.declutterExecutorGroup&&c.push(this.declutterExecutorGroup),c.some(function(i){return a=i.forEachFeatureAtCoordinate(e,s,p,r,d,i===o.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(function(e){return e.value}):null)}),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var i=e.viewHints[$F2e3$import$ViewHint.ANIMATING],n=e.viewHints[$F2e3$import$ViewHint.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&i||!a&&n)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=e.extent,p=e.viewState,$=p.projection,u=p.resolution,d=e.pixelRatio,c=t.getRevision(),l=t.getRenderBuffer(),h=t.getRenderOrder();void 0===h&&(h=$F2e3$import$defaultRenderOrder);var m=p.center.slice(),_=$F2e3$import$buffer(s,l*u),g=_.slice(),F=[_.slice()],f=$.getExtent();if(r.getWrapX()&&$.canWrapX()&&!$F2e3$import$containsExtent(f,e.extent)){var x=$F2e3$import$getWidth(f),v=Math.max($F2e3$import$getWidth(_)/2,x);_[0]=f[0]-v,_[2]=f[2]+v,$F2e3$import$wrapCoordinateX(m,$);var y=$F2e3$import$wrapExtentX(F[0],$);y[0]<f[0]&&y[2]<f[2]?F.push([y[0]+x,y[1],y[2]+x,y[3]]):y[0]>f[0]&&y[2]>f[2]&&F.push([y[0]-x,y[1],y[2]-x,y[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==c&&this.renderedRenderOrder_==h&&$F2e3$import$containsExtent(this.wrappedRenderedExtent_,_))return $F2e3$import$equals(this.renderedExtent_,g)||(this.hitDetectionImageData_=null,this.renderedExtent_=g),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var E,C=new $F2e3$import$CanvasBuilderGroup($F2e3$import$getRenderTolerance(u,d),_,u,d);this.getLayer().getDeclutter()&&(E=new $F2e3$import$CanvasBuilderGroup($F2e3$import$getRenderTolerance(u,d),_,u,d));var R,T=$F2e3$import$getUserProjection();if(T){for(var I=0,w=F.length;I<w;++I){var S=F[I],G=$F2e3$import$toUserExtent(S,$);r.loadFeatures(G,$F2e3$import$toUserResolution(u,$),T)}R=$F2e3$import$getTransformFromProjections(T,$)}else for(I=0,w=F.length;I<w;++I)r.loadFeatures(F[I],u,$);var O=$F2e3$import$getSquaredRenderTolerance(u,d),j=!0,D=function(e){var r,i=e.getStyleFunction()||t.getStyleFunction();if(i&&(r=i(e,u)),r){var n=this.renderFeature(e,O,r,C,R,E);j=j&&!n}}.bind(this),q=$F2e3$import$toUserExtent(_,$),A=r.getFeaturesInExtent(q);h&&A.sort(h);for(I=0,w=A.length;I<w;++I)D(A[I]);this.renderedFeatures_=A,this.ready=j;var H=C.finish(),b=new $F2e3$import$ExecutorGroup(_,u,d,r.getOverlaps(),H,t.getRenderBuffer());return E&&(this.declutterExecutorGroup=new $F2e3$import$ExecutorGroup(_,u,d,r.getOverlaps(),E.finish(),t.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=c,this.renderedRenderOrder_=h,this.renderedExtent_=g,this.wrappedRenderedExtent_=_,this.renderedCenter_=m,this.renderedProjection_=$,this.replayGroup_=b,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,i,n,o){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var s=0,p=r.length;s<p;++s)a=$F2e3$import$renderFeature(i,e,r[s],t,this.boundHandleStyleImageChange_,n,o)||a;else a=$F2e3$import$renderFeature(i,e,r,t,this.boundHandleStyleImageChange_,n,o);return a},t}($F2e3$import$CanvasLayerRenderer);$F2e3$exports.default=$F2e3$export$default;"},"sourceMaps":null,"error":null,"hash":"5352e498b6313f8a0db525057f3daff0","cacheData":{"env":{},"imports":{"$F2e3$import$CanvasBuilderGroup":["../../render/canvas/BuilderGroup.js","default"],"$F2e3$import$CanvasLayerRenderer":["./Layer.js","default"],"$F2e3$import$canvasPool":["./Layer.js","canvasPool"],"$F2e3$import$ExecutorGroup":["../../render/canvas/ExecutorGroup.js","default"],"$F2e3$import$ViewHint":["../../ViewHint.js","default"],"$F2e3$import$HIT_DETECT_RESOLUTION":["../../render/canvas/hitdetect.js","HIT_DETECT_RESOLUTION"],"$F2e3$import$createHitDetectionImageData":["../../render/canvas/hitdetect.js","createHitDetectionImageData"],"$F2e3$import$hitDetect":["../../render/canvas/hitdetect.js","hitDetect"],"$F2e3$import$apply":["../../transform.js","apply"],"$F2e3$import$makeInverse":["../../transform.js","makeInverse"],"$F2e3$import$makeScale":["../../transform.js","makeScale"],"$F2e3$import$transformToString":["../../transform.js","toString"],"$F2e3$import$buffer":["../../extent.js","buffer"],"$F2e3$import$containsExtent":["../../extent.js","containsExtent"],"$F2e3$import$createEmpty":["../../extent.js","createEmpty"],"$F2e3$import$getWidth":["../../extent.js","getWidth"],"$F2e3$import$intersectsExtent":["../../extent.js","intersects"],"$F2e3$import$wrapExtentX":["../../extent.js","wrapX"],"$F2e3$import$createCanvasContext2D":["../../dom.js","createCanvasContext2D"],"$F2e3$import$releaseCanvas":["../../dom.js","releaseCanvas"],"$F2e3$import$defaultRenderOrder":["../vector.js","defaultOrder"],"$F2e3$import$getRenderTolerance":["../vector.js","getTolerance"],"$F2e3$import$getSquaredRenderTolerance":["../vector.js","getSquaredTolerance"],"$F2e3$import$renderFeature":["../vector.js","renderFeature"],"$F2e3$import$equals":["../../array.js","equals"],"$F2e3$import$fromUserExtent":["../../proj.js","fromUserExtent"],"$F2e3$import$getTransformFromProjections":["../../proj.js","getTransformFromProjections"],"$F2e3$import$getUserProjection":["../../proj.js","getUserProjection"],"$F2e3$import$toUserExtent":["../../proj.js","toUserExtent"],"$F2e3$import$toUserResolution":["../../proj.js","toUserResolution"],"$F2e3$import$getUid":["../../util.js","getUid"],"$F2e3$import$wrapCoordinateX":["../../coordinate.js","wrapX"]},"exports":{"default":"$F2e3$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}