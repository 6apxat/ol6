{"id":"MrCe","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Immediate.js","loc":{"line":4,"column":36,"index":82},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/Immediate.js"},{"name":"../../style/IconAnchorUnits.js","loc":{"line":5,"column":28,"index":128},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/IconAnchorUnits.js"},{"name":"../../style.js","loc":{"line":6,"column":21,"index":183},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/style.js"},{"name":"../../math.js","loc":{"line":7,"column":22,"index":223},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/math.js"},{"name":"../../dom.js","loc":{"line":8,"column":38,"index":278},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/dom.js"},{"name":"../../extent.js","loc":{"line":9,"column":27,"index":321},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../array.js","loc":{"line":10,"column":42,"index":382},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/hitdetect.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"}],"generated":{"js":"var $MrCe$exports={};$parcel$require(\"MrCe\",\"./Immediate.js\"),$parcel$require(\"MrCe\",\"../../style/IconAnchorUnits.js\"),$parcel$require(\"MrCe\",\"../../style.js\"),$parcel$require(\"MrCe\",\"../../math.js\"),$parcel$require(\"MrCe\",\"../../dom.js\"),$parcel$require(\"MrCe\",\"../../extent.js\"),$parcel$require(\"MrCe\",\"../../array.js\");var $MrCe$export$HIT_DETECT_RESOLUTION=.5;function $MrCe$export$createHitDetectionImageData(e,r,t,a,o,i,$){var n=e[0]*$MrCe$export$HIT_DETECT_RESOLUTION,c=e[1]*$MrCe$export$HIT_DETECT_RESOLUTION,C=$MrCe$import$createCanvasContext2D(n,c);C.imageSmoothingEnabled=!1;for(var l=C.canvas,p=new $MrCe$import$CanvasImmediateRenderer(C,$MrCe$export$HIT_DETECT_RESOLUTION,o,null,$),s=t.length,g=Math.floor(16777215/s),h={},M=1;M<=s;++M){var m=t[M-1],T=m.getStyleFunction()||a;if(a){var I=T(m,i);if(I){Array.isArray(I)||(I=[I]);for(var v=\"#\"+(\"000000\"+(M*g).toString(16)).slice(-6),E=0,f=I.length;E<f;++E){var u=I[E],S=u.getGeometryFunction()(m);if(S&&$MrCe$import$intersects(o,S.getExtent())){var x=u.clone(),D=x.getFill();D&&D.setColor(v);var O=x.getStroke();O&&(O.setColor(v),O.setLineDash(null)),x.setText(void 0);var d=u.getImage();if(d&&0!==d.getOpacity()){var _=d.getImageSize();if(!_)continue;var y=$MrCe$import$createCanvasContext2D(_[0],_[1],void 0,{alpha:!1}),U=y.canvas;y.fillStyle=v,y.fillRect(0,0,U.width,U.height),x.setImage(new $MrCe$import$Icon({img:U,imgSize:_,anchor:d.getAnchor(),anchorXUnits:$MrCe$import$IconAnchorUnits.PIXELS,anchorYUnits:$MrCe$import$IconAnchorUnits.PIXELS,offset:d.getOrigin(),opacity:1,size:d.getSize(),scale:d.getScale(),rotation:d.getRotation(),rotateWithView:d.getRotateWithView()}))}var L=x.getZIndex()||0;(w=h[L])||(w={},h[L]=w,w.Polygon=[],w.Circle=[],w.LineString=[],w.Point=[]),w[S.getType().replace(\"Multi\",\"\")].push(S,x)}}}}}for(var R=Object.keys(h).map(Number).sort($MrCe$import$numberSafeCompareFunction),H=(M=0,R.length);M<H;++M){var w=h[R[M]];for(var N in w){var j=w[N];for(E=0,f=j.length;E<f;E+=2){p.setStyle(j[E+1]);for(var q=0,A=r.length;q<A;++q)p.setTransform(r[q]),p.drawGeometry(j[E])}}}return C.getImageData(0,0,l.width,l.height)}function $MrCe$export$hitDetect(e,r,t){var a=[];if(t){var o=Math.floor(Math.round(e[0])*$MrCe$export$HIT_DETECT_RESOLUTION),i=Math.floor(Math.round(e[1])*$MrCe$export$HIT_DETECT_RESOLUTION),$=4*($MrCe$import$clamp(o,0,t.width-1)+$MrCe$import$clamp(i,0,t.height-1)*t.width),n=t.data[$],c=t.data[$+1],C=t.data[$+2]+256*(c+256*n),l=Math.floor(16777215/r.length);C&&C%l==0&&a.push(r[C/l-1])}return a}$MrCe$exports.HIT_DETECT_RESOLUTION=$MrCe$export$HIT_DETECT_RESOLUTION,$MrCe$exports.createHitDetectionImageData=$MrCe$export$createHitDetectionImageData,$MrCe$exports.hitDetect=$MrCe$export$hitDetect;"},"sourceMaps":null,"error":null,"hash":"209da665b469438423463049b4159f81","cacheData":{"env":{},"imports":{"$MrCe$import$CanvasImmediateRenderer":["./Immediate.js","default"],"$MrCe$import$IconAnchorUnits":["../../style/IconAnchorUnits.js","default"],"$MrCe$import$Icon":["../../style.js","Icon"],"$MrCe$import$clamp":["../../math.js","clamp"],"$MrCe$import$createCanvasContext2D":["../../dom.js","createCanvasContext2D"],"$MrCe$import$intersects":["../../extent.js","intersects"],"$MrCe$import$numberSafeCompareFunction":["../../array.js","numberSafeCompareFunction"]},"exports":{"HIT_DETECT_RESOLUTION":"$MrCe$export$HIT_DETECT_RESOLUTION","createHitDetectionImageData":"$MrCe$export$createHitDetectionImageData","hitDetect":"$MrCe$export$hitDetect"},"wildcards":[],"sideEffects":false,"isES6Module":true}}