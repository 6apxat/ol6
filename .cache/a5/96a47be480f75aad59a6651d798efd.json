{"id":"DK5d","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Control.js","loc":{"line":19,"column":20,"index":823},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/ScaleLine.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/Control.js"},{"name":"../proj/Units.js","loc":{"line":20,"column":22,"index":861},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/ScaleLine.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj/Units.js"},{"name":"../css.js","loc":{"line":21,"column":35,"index":916},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/ScaleLine.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/css.js"},{"name":"../proj.js","loc":{"line":22,"column":52,"index":981},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/ScaleLine.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj.js"},{"name":"../asserts.js","loc":{"line":23,"column":23,"index":1018},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/control/ScaleLine.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/asserts.js"}],"generated":{"js":"var $DK5d$exports={};$parcel$require(\"DK5d\",\"./Control.js\"),$parcel$require(\"DK5d\",\"../proj/Units.js\"),$parcel$require(\"DK5d\",\"../css.js\"),$parcel$require(\"DK5d\",\"../proj.js\"),$parcel$require(\"DK5d\",\"../asserts.js\");var $DK5d$var$__extends=$DK5d$exports&&$DK5d$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$DK5d$var$UNITS_PROP=\"units\",$DK5d$export$Units={DEGREES:\"degrees\",IMPERIAL:\"imperial\",NAUTICAL:\"nautical\",METRIC:\"metric\",US:\"us\"};$DK5d$exports.Units=$DK5d$export$Units;var $DK5d$var$LEADING_DIGITS=[1,2,5],$DK5d$var$DEFAULT_DPI=25.4/.28,$DK5d$export$default=function(e){function t(t){var r=this,i=t||{},s=void 0!==i.className?i.className:i.bar?\"ol-scale-bar\":\"ol-scale-line\";return(r=e.call(this,{element:document.createElement(\"div\"),render:i.render,target:i.target})||this).on,r.once,r.un,r.innerElement_=document.createElement(\"div\"),r.innerElement_.className=s+\"-inner\",r.element.className=s+\" \"+$DK5d$import$CLASS_UNSELECTABLE,r.element.appendChild(r.innerElement_),r.viewState_=null,r.minWidth_=void 0!==i.minWidth?i.minWidth:64,r.maxWidth_=i.maxWidth,r.renderedVisible_=!1,r.renderedWidth_=void 0,r.renderedHTML_=\"\",r.addChangeListener($DK5d$var$UNITS_PROP,r.handleUnitsChanged_),r.setUnits(i.units||$DK5d$export$Units.METRIC),r.scaleBar_=i.bar||!1,r.scaleBarSteps_=i.steps||4,r.scaleBarText_=i.text||!1,r.dpi_=i.dpi||void 0,r}return $DK5d$var$__extends(t,e),t.prototype.getUnits=function(){return this.get($DK5d$var$UNITS_PROP)},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set($DK5d$var$UNITS_PROP,e)},t.prototype.setDpi=function(e){this.dpi_=e},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,r=e.projection,i=this.getUnits(),s=i==$DK5d$export$Units.DEGREES?$DK5d$import$ProjUnits.DEGREES:$DK5d$import$ProjUnits.METERS,n=$DK5d$import$getPointResolution(r,e.resolution,t,s),a=this.minWidth_*(this.dpi_||$DK5d$var$DEFAULT_DPI)/$DK5d$var$DEFAULT_DPI,o=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||$DK5d$var$DEFAULT_DPI)/$DK5d$var$DEFAULT_DPI:void 0,d=a*n,l=\"\";if(i==$DK5d$export$Units.DEGREES){var $=$DK5d$import$METERS_PER_UNIT[$DK5d$import$ProjUnits.DEGREES];(d*=$)<$/60?(l=\"″\",n*=3600):d<$?(l=\"′\",n*=60):l=\"°\"}else i==$DK5d$export$Units.IMPERIAL?d<.9144?(l=\"in\",n/=.0254):d<1609.344?(l=\"ft\",n/=.3048):(l=\"mi\",n/=1609.344):i==$DK5d$export$Units.NAUTICAL?(n/=1852,l=\"NM\"):i==$DK5d$export$Units.METRIC?d<.001?(l=\"μm\",n*=1e6):d<1?(l=\"mm\",n*=1e3):d<1e3?l=\"m\":(l=\"km\",n/=1e3):i==$DK5d$export$Units.US?d<.9144?(l=\"in\",n*=39.37):d<1609.344?(l=\"ft\",n/=.30480061):(l=\"mi\",n/=1609.3472):$DK5d$import$assert(!1,33);for(var p,c,h,_,u,D,v,m=3*Math.floor(Math.log(a*n)/Math.log(10));;){h=Math.floor(m/3);var E=Math.pow(10,h);if(p=$DK5d$var$LEADING_DIGITS[(m%3+3)%3]*E,c=Math.round(p/n),isNaN(c))return this.element.style.display=\"none\",void(this.renderedVisible_=!1);if(void 0!==o&&c>=o){p=_,c=u,h=D;break}if(c>=a)break;_=p,u=c,D=h,++m}v=this.scaleBar_?this.createScaleBar(c,p,l):p.toFixed(h<0?-h:0)+\" \"+l,this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=c&&(this.innerElement_.style.width=c+\"px\",this.renderedWidth_=c),this.renderedVisible_||(this.element.style.display=\"\",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display=\"none\",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,r){for(var i=\"1 : \"+Math.round(this.getScaleForResolution()).toLocaleString(),s=[],n=e/this.scaleBarSteps_,a=\"ol-scale-singlebar-odd\",o=0;o<this.scaleBarSteps_;o++)0===o&&s.push(this.createMarker(\"absolute\",o)),s.push('<div><div class=\"ol-scale-singlebar '+a+'\" style=\"width: '+n+'px;\"></div>'+this.createMarker(\"relative\",o)+(o%2==0||2===this.scaleBarSteps_?this.createStepText(o,e,!1,t,r):\"\")+\"</div>\"),o===this.scaleBarSteps_-1&&s.push(this.createStepText(o+1,e,!0,t,r)),a=\"ol-scale-singlebar-odd\"===a?\"ol-scale-singlebar-even\":\"ol-scale-singlebar-odd\";return'<div style=\"display: flex;\">'+(this.scaleBarText_?'<div class=\"ol-scale-text\" style=\"width: '+e+'px;\">'+i+\"</div>\":\"\")+s.join(\"\")+\"</div>\"},t.prototype.createMarker=function(e,t){return'<div class=\"ol-scale-step-marker\" style=\"position: '+e+\";top: \"+(\"absolute\"===e?3:-10)+'px;\"></div>'},t.prototype.createStepText=function(e,t,r,i,s){var n=(0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100)+(0===e?\"\":\" \"+s);return'<div class=\"ol-scale-step-text\" style=\"margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+\"px;text-align: \"+(0===e?\"left\":\"center\")+\"; min-width: \"+(0===e?0:t/this.scaleBarSteps_*2)+\"px;left: \"+(r?t+\"px\":\"unset\")+';\">'+n+\"</div>\"},t.prototype.getScaleForResolution=function(){var e=$DK5d$import$getPointResolution(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,$DK5d$import$ProjUnits.METERS),t=this.dpi_||$DK5d$var$DEFAULT_DPI;return parseFloat(e.toString())*(1e3/25.4)*t},t.prototype.render=function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},t}($DK5d$import$Control);$DK5d$exports.default=$DK5d$export$default;"},"sourceMaps":null,"error":null,"hash":"2414e6c4e2cfb6400dae75424c33b03d","cacheData":{"env":{},"imports":{"$DK5d$import$Control":["./Control.js","default"],"$DK5d$import$ProjUnits":["../proj/Units.js","default"],"$DK5d$import$CLASS_UNSELECTABLE":["../css.js","CLASS_UNSELECTABLE"],"$DK5d$import$METERS_PER_UNIT":["../proj.js","METERS_PER_UNIT"],"$DK5d$import$getPointResolution":["../proj.js","getPointResolution"],"$DK5d$import$assert":["../asserts.js","assert"]},"exports":{"Units":"$DK5d$export$Units","default":"$DK5d$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}