{"id":"DEzw","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Builder.js","loc":{"line":19,"column":26,"index":837},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/Builder.js"},{"name":"./Instruction.js","loc":{"line":20,"column":30,"index":883},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/Instruction.js"},{"name":"../../style/TextPlacement.js","loc":{"line":21,"column":26,"index":929},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/style/TextPlacement.js"},{"name":"../../colorlike.js","loc":{"line":22,"column":28,"index":989},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/colorlike.js"},{"name":"../canvas.js","loc":{"line":23,"column":246,"index":1257},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas.js"},{"name":"../../util.js","loc":{"line":24,"column":23,"index":1296},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/util.js"},{"name":"../../extent.js","loc":{"line":25,"column":27,"index":1340},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"../../geom/flat/straightchunk.js","loc":{"line":26,"column":30,"index":1389},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/render/canvas/TextBuilder.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/geom/flat/straightchunk.js"}],"generated":{"js":"var $DEzw$exports={};$parcel$require(\"DEzw\",\"./Builder.js\"),$parcel$require(\"DEzw\",\"./Instruction.js\"),$parcel$require(\"DEzw\",\"../../style/TextPlacement.js\"),$parcel$require(\"DEzw\",\"../../colorlike.js\"),$parcel$require(\"DEzw\",\"../canvas.js\"),$parcel$require(\"DEzw\",\"../../util.js\"),$parcel$require(\"DEzw\",\"../../extent.js\"),$parcel$require(\"DEzw\",\"../../geom/flat/straightchunk.js\");var $DEzw$var$__extends=$DEzw$exports&&$DEzw$exports.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if(\"function\"!=typeof i&&null!==i)throw new TypeError(\"Class extends value \"+String(i)+\" is not a constructor or null\");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$DEzw$export$TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};$DEzw$exports.TEXT_ALIGN=$DEzw$export$TEXT_ALIGN;var $DEzw$export$default=function(t){function e(e,i,s,r){var l=t.call(this,e,i,s,r)||this;return l.labels_=null,l.text_=\"\",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=void 0,l.textRotation_=0,l.textFillState_=null,l.fillStates={},l.textStrokeState_=null,l.strokeStates={},l.textState_={},l.textStates={},l.textKey_=\"\",l.fillKey_=\"\",l.strokeKey_=\"\",l.declutterImageWithText_=void 0,l}return $DEzw$var$__extends(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,s=this.textStrokeState_,r=this.textState_;if(\"\"!==this.text_&&r&&(i||s)){var l=this.coordinates,a=l.length,o=t.getType(),n=null,h=t.getStride();if(r.placement!==$DEzw$import$TextPlacement.LINE||\"LineString\"!=o&&\"MultiLineString\"!=o&&\"Polygon\"!=o&&\"MultiPolygon\"!=o){var f=r.overflow?null:[];switch(o){case\"Point\":case\"MultiPoint\":n=t.getFlatCoordinates();break;case\"LineString\":n=t.getFlatMidpoint();break;case\"Circle\":n=t.getCenter();break;case\"MultiLineString\":n=t.getFlatMidpoints(),h=2;break;case\"Polygon\":n=t.getFlatInteriorPoint(),r.overflow||f.push(n[2]/this.resolution),h=3;break;case\"MultiPolygon\":var $=t.getFlatInteriorPoints();n=[];for(w=0,D=$.length;w<D;w+=3)r.overflow||f.push($[w+2]/this.resolution),n.push($[w],$[w+1]);if(0===n.length)return;h=2}if((T=this.appendFlatPointCoordinates(n,h))===a)return;if(f&&(T-a)/2!=n.length/h){var u=a/2;f=f.filter(function(t,e){var i=l[2*(u+e)]===n[e*h]&&l[2*(u+e)+1]===n[e*h+1];return i||--u,i})}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var g=r.padding;if(g!=$DEzw$import$defaultPadding&&(r.scale[0]<0||r.scale[1]<0)){var p=r.padding[0],d=r.padding[1],c=r.padding[2],x=r.padding[3];r.scale[0]<0&&(d=-d,x=-x),r.scale[1]<0&&(p=-p,c=-c),g=[p,d,c,x]}var _=this.pixelRatio;this.instructions.push([$DEzw$import$CanvasInstruction.DRAW_IMAGE,a,T,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,g==$DEzw$import$defaultPadding?$DEzw$import$defaultPadding:g.map(function(t){return t*_}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);var S=1/_;this.hitDetectionInstructions.push([$DEzw$import$CanvasInstruction.DRAW_IMAGE,a,T,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,void 0,this.declutterImageWithText_,g,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(e)}else{if(!$DEzw$import$intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var y=void 0;if(n=t.getFlatCoordinates(),\"LineString\"==o)y=[n.length];else if(\"MultiLineString\"==o)y=t.getEnds();else if(\"Polygon\"==o)y=t.getEnds().slice(0,1);else if(\"MultiPolygon\"==o){var v=t.getEndss();y=[];for(var w=0,D=v.length;w<D;++w)y.push(v[w][0])}this.beginGeometry(t,e);for(var E=r.textAlign,k=0,m=void 0,z=0,F=y.length;z<F;++z){if(null==E){var L=$DEzw$import$matchingChunk(r.maxAngle,n,k,y[z],h);k=L[0],m=L[1]}else m=y[z];for(var w=k;w<m;w+=h)l.push(n[w],n[w+1]);var T=l.length;k=y[z],this.drawChars_(a,T),a=T}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||$DEzw$import$defaultTextAlign,justify:e.justify,textBaseline:e.textBaseline||$DEzw$import$defaultTextBaseline,scale:e.scale});var l=this.fillKey_;i&&(l in this.fillStates||(this.fillStates[l]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,l=this.textKey_,a=this.fillKey_;this.saveTextStates_();var o=this.pixelRatio,n=$DEzw$export$TEXT_ALIGN[s.textBaseline],h=this.textOffsetY_*o,f=this.text_,$=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([$DEzw$import$CanvasInstruction.DRAW_CHARS,t,e,n,s.overflow,a,s.maxAngle,o,h,r,$*o,f,l,1]),this.hitDetectionInstructions.push([$DEzw$import$CanvasInstruction.DRAW_CHARS,t,e,n,s.overflow,a,s.maxAngle,1,h,r,$,f,l,1/o])},e.prototype.setTextStyle=function(t,e){var i,s,r;if(t){var l=t.getFill();l?((s=this.textFillState_)||(s={},this.textFillState_=s),s.fillStyle=$DEzw$import$asColorLike(l.getColor()||$DEzw$import$defaultFillStyle)):(s=null,this.textFillState_=s);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var o=a.getLineDash(),n=a.getLineDashOffset(),h=a.getWidth(),f=a.getMiterLimit();r.lineCap=a.getLineCap()||$DEzw$import$defaultLineCap,r.lineDash=o?o.slice():$DEzw$import$defaultLineDash,r.lineDashOffset=void 0===n?$DEzw$import$defaultLineDashOffset:n,r.lineJoin=a.getLineJoin()||$DEzw$import$defaultLineJoin,r.lineWidth=void 0===h?$DEzw$import$defaultLineWidth:h,r.miterLimit=void 0===f?$DEzw$import$defaultMiterLimit:f,r.strokeStyle=$DEzw$import$asColorLike(a.getColor()||$DEzw$import$defaultStrokeStyle)}else r=null,this.textStrokeState_=r;i=this.textState_;var $=t.getFont()||$DEzw$import$defaultFont;$DEzw$import$registerFont($);var u=t.getScaleArray();i.overflow=t.getOverflow(),i.font=$,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||$DEzw$import$defaultTextBaseline,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||$DEzw$import$defaultPadding,i.scale=void 0===u?[1,1]:u;var g=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),c=t.getRotation();this.text_=t.getText()||\"\",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0===c?0:c,this.strokeKey_=r?(\"string\"==typeof r.strokeStyle?r.strokeStyle:$DEzw$import$getUid(r.strokeStyle))+r.lineCap+r.lineDashOffset+\"|\"+r.lineWidth+r.lineJoin+r.miterLimit+\"[\"+r.lineDash.join()+\"]\":\"\",this.textKey_=i.font+i.scale+(i.textAlign||\"?\")+(i.justify||\"?\")+(i.textBaseline||\"?\"),this.fillKey_=s?\"string\"==typeof s.fillStyle?s.fillStyle:\"|\"+$DEzw$import$getUid(s.fillStyle):\"\"}else this.text_=\"\";this.declutterImageWithText_=e},e}($DEzw$import$CanvasBuilder);$DEzw$exports.default=$DEzw$export$default;"},"sourceMaps":null,"error":null,"hash":"6583d1fe8ca37b37bfc7536456a34950","cacheData":{"env":{},"imports":{"$DEzw$import$CanvasBuilder":["./Builder.js","default"],"$DEzw$import$CanvasInstruction":["./Instruction.js","default"],"$DEzw$import$TextPlacement":["../../style/TextPlacement.js","default"],"$DEzw$import$asColorLike":["../../colorlike.js","asColorLike"],"$DEzw$import$defaultFillStyle":["../canvas.js","defaultFillStyle"],"$DEzw$import$defaultFont":["../canvas.js","defaultFont"],"$DEzw$import$defaultLineCap":["../canvas.js","defaultLineCap"],"$DEzw$import$defaultLineDash":["../canvas.js","defaultLineDash"],"$DEzw$import$defaultLineDashOffset":["../canvas.js","defaultLineDashOffset"],"$DEzw$import$defaultLineJoin":["../canvas.js","defaultLineJoin"],"$DEzw$import$defaultLineWidth":["../canvas.js","defaultLineWidth"],"$DEzw$import$defaultMiterLimit":["../canvas.js","defaultMiterLimit"],"$DEzw$import$defaultPadding":["../canvas.js","defaultPadding"],"$DEzw$import$defaultStrokeStyle":["../canvas.js","defaultStrokeStyle"],"$DEzw$import$defaultTextAlign":["../canvas.js","defaultTextAlign"],"$DEzw$import$defaultTextBaseline":["../canvas.js","defaultTextBaseline"],"$DEzw$import$registerFont":["../canvas.js","registerFont"],"$DEzw$import$getUid":["../../util.js","getUid"],"$DEzw$import$intersects":["../../extent.js","intersects"],"$DEzw$import$matchingChunk":["../../geom/flat/straightchunk.js","matchingChunk"]},"exports":{"TEXT_ALIGN":"$DEzw$export$TEXT_ALIGN","default":"$DEzw$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}