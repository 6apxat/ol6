{"id":"DHWK","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./events/EventType.js","loc":{"line":19,"column":22,"index":813},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events/EventType.js"},{"name":"./ImageBase.js","loc":{"line":20,"column":22,"index":860},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ImageBase.js"},{"name":"./ImageState.js","loc":{"line":21,"column":23,"index":901},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ImageState.js"},{"name":"./has.js","loc":{"line":22,"column":29,"index":949},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/has.js"},{"name":"./extent.js","loc":{"line":23,"column":26,"index":987},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"./events.js","loc":{"line":24,"column":42,"index":1044},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/Image.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/events.js"}],"generated":{"js":"var $DHWK$exports={};$parcel$require(\"DHWK\",\"./events/EventType.js\"),$parcel$require(\"DHWK\",\"./ImageBase.js\"),$parcel$require(\"DHWK\",\"./ImageState.js\"),$parcel$require(\"DHWK\",\"./has.js\"),$parcel$require(\"DHWK\",\"./extent.js\"),$parcel$require(\"DHWK\",\"./events.js\");var $DHWK$var$__extends=$DHWK$exports&&$DHWK$exports.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if(\"function\"!=typeof i&&null!==i)throw new TypeError(\"Class extends value \"+String(i)+\" is not a constructor or null\");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$DHWK$export$default=function(t){function e(e,i,n,r,o,s){var $=t.call(this,e,i,n,$DHWK$import$ImageState.IDLE)||this;return $.src_=r,$.image_=new Image,null!==o&&($.image_.crossOrigin=o),$.unlisten_=null,$.state=$DHWK$import$ImageState.IDLE,$.imageLoadFunction_=s,$}return $DHWK$var$__extends(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=$DHWK$import$ImageState.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=$DHWK$import$getHeight(this.extent)/this.image_.height),this.state=$DHWK$import$ImageState.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=$DHWK$import$ImageState.IDLE&&this.state!=$DHWK$import$ImageState.ERROR||(this.state=$DHWK$import$ImageState.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=$DHWK$export$listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=$DHWK$import$getHeight(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}($DHWK$import$ImageBase);function $DHWK$export$listenImage(t,e,i){var n=t,r=!0,o=!1,s=!1,$=[$DHWK$import$listenOnce(n,$DHWK$import$EventType.LOAD,function(){s=!0,o||e()})];return n.src&&$DHWK$import$IMAGE_DECODE?(o=!0,n.decode().then(function(){r&&e()}).catch(function(t){r&&(s?e():i())})):$.push($DHWK$import$listenOnce(n,$DHWK$import$EventType.ERROR,i)),function(){r=!1,$.forEach($DHWK$import$unlistenByKey)}}$DHWK$exports.listenImage=$DHWK$export$listenImage,$DHWK$exports.default=$DHWK$export$default;"},"sourceMaps":null,"error":null,"hash":"9b0160da1106d2670c7c8a694a8cbf9f","cacheData":{"env":{},"imports":{"$DHWK$import$EventType":["./events/EventType.js","default"],"$DHWK$import$ImageBase":["./ImageBase.js","default"],"$DHWK$import$ImageState":["./ImageState.js","default"],"$DHWK$import$IMAGE_DECODE":["./has.js","IMAGE_DECODE"],"$DHWK$import$getHeight":["./extent.js","getHeight"],"$DHWK$import$listenOnce":["./events.js","listenOnce"],"$DHWK$import$unlistenByKey":["./events.js","unlistenByKey"]},"exports":{"listenImage":"$DHWK$export$listenImage","default":"$DHWK$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}