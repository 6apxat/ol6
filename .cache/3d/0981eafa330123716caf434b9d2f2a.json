{"id":"hNqE","dependencies":[{"name":"/home/i6apxat/htdocs/ol6/package.json","includedInParent":true,"mtime":1679700623179},{"name":"/home/i6apxat/htdocs/ol6/node_modules/ol/package.json","includedInParent":true,"mtime":1679700665093},{"name":"./Object.js","loc":{"line":19,"column":23,"index":813},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/Object.js"},{"name":"./proj/Units.js","loc":{"line":20,"column":18,"index":846},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj/Units.js"},{"name":"./ViewHint.js","loc":{"line":21,"column":21,"index":886},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ViewHint.js"},{"name":"./ViewProperty.js","loc":{"line":22,"column":25,"index":928},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/ViewProperty.js"},{"name":"./tilegrid/common.js","loc":{"line":23,"column":34,"index":983},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/tilegrid/common.js"},{"name":"./proj.js","loc":{"line":24,"column":164,"index":1171},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/proj.js"},{"name":"./functions.js","loc":{"line":25,"column":21,"index":1205},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/functions.js"},{"name":"./coordinate.js","loc":{"line":26,"column":102,"index":1325},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/coordinate.js"},{"name":"./asserts.js","loc":{"line":27,"column":23,"index":1367},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/asserts.js"},{"name":"./obj.js","loc":{"line":28,"column":23,"index":1406},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/obj.js"},{"name":"./centerconstraint.js","loc":{"line":29,"column":49,"index":1467},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/centerconstraint.js"},{"name":"./math.js","loc":{"line":30,"column":30,"index":1522},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/math.js"},{"name":"./resolutionconstraint.js","loc":{"line":31,"column":84,"index":1619},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/resolutionconstraint.js"},{"name":"./rotationconstraint.js","loc":{"line":32,"column":80,"index":1728},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/rotationconstraint.js"},{"name":"./easing.js","loc":{"line":33,"column":34,"index":1789},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/easing.js"},{"name":"./extent.js","loc":{"line":34,"column":76,"index":1880},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/extent.js"},{"name":"./array.js","loc":{"line":35,"column":34,"index":1929},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/array.js"},{"name":"./geom/Polygon.js","loc":{"line":36,"column":48,"index":1991},"parent":"/home/i6apxat/htdocs/ol6/node_modules/ol/View.js","resolved":"/home/i6apxat/htdocs/ol6/node_modules/ol/geom/Polygon.js"}],"generated":{"js":"var $hNqE$exports={};$parcel$require(\"hNqE\",\"./Object.js\"),$parcel$require(\"hNqE\",\"./proj/Units.js\"),$parcel$require(\"hNqE\",\"./ViewHint.js\"),$parcel$require(\"hNqE\",\"./ViewProperty.js\"),$parcel$require(\"hNqE\",\"./tilegrid/common.js\"),$parcel$require(\"hNqE\",\"./proj.js\"),$parcel$require(\"hNqE\",\"./functions.js\"),$parcel$require(\"hNqE\",\"./coordinate.js\"),$parcel$require(\"hNqE\",\"./asserts.js\"),$parcel$require(\"hNqE\",\"./obj.js\"),$parcel$require(\"hNqE\",\"./centerconstraint.js\"),$parcel$require(\"hNqE\",\"./math.js\"),$parcel$require(\"hNqE\",\"./resolutionconstraint.js\"),$parcel$require(\"hNqE\",\"./rotationconstraint.js\"),$parcel$require(\"hNqE\",\"./easing.js\"),$parcel$require(\"hNqE\",\"./extent.js\"),$parcel$require(\"hNqE\",\"./array.js\"),$parcel$require(\"hNqE\",\"./geom/Polygon.js\");var $hNqE$var$__extends=$hNqE$exports&&$hNqE$exports.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(o,e)};return function(o,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function i(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$hNqE$var$DEFAULT_MIN_ZOOM=0,$hNqE$export$default=function(t){function o(o){var e=t.call(this)||this;e.on,e.once,e.un;var i=$hNqE$import$assign({},o);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=$hNqE$import$createProjection(i.projection,\"EPSG:3857\"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,i.projection&&$hNqE$import$disableCoordinateWarning(),i.center&&(i.center=$hNqE$import$fromUserCoordinate(i.center,e.projection_)),i.extent&&(i.extent=$hNqE$import$fromUserExtent(i.extent,e.projection_)),e.applyOptions_(i),e}return $hNqE$var$__extends(o,t),o.prototype.applyOptions_=function(t){var o=$hNqE$import$assign({},t);for(var e in $hNqE$import$ViewProperty)delete o[e];this.setProperties(o,!0);var i=$hNqE$export$createResolutionConstraint(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;var n=$hNqE$export$createCenterConstraint(t),r=i.constraint,a=$hNqE$export$createRotationConstraint(t);this.constraints_={center:n,resolution:r,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(o.prototype,\"padding\",{get:function(){return this.padding_},set:function(t){var o=this.padding_;this.padding_=t;var e=this.getCenter();if(e){var i=t||[0,0,0,0];o=o||[0,0,0,0];var n=this.getResolution(),r=n/2*(i[3]-o[3]+o[1]-i[1]),a=n/2*(i[0]-o[0]+o[2]-i[2]);this.setCenterInternal([e[0]+r,e[1]-a])}},enumerable:!1,configurable:!0}),o.prototype.getUpdatedOptions_=function(t){var o=this.getProperties();return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),$hNqE$import$assign({},o,t)},o.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),e=0;e<o.length;++e){var i=arguments[e];i.center&&((i=$hNqE$import$assign({},i)).center=$hNqE$import$fromUserCoordinate(i.center,this.getProjection())),i.anchor&&((i=$hNqE$import$assign({},i)).anchor=$hNqE$import$fromUserCoordinate(i.anchor,this.getProjection())),o[e]=i}this.animateInternal.apply(this,o)},o.prototype.animateInternal=function(t){var o,e=arguments.length;e>1&&\"function\"==typeof arguments[e-1]&&(o=arguments[e-1],--e);for(var i=0;i<e&&!this.isDef();++i){var n=arguments[i];n.center&&this.setCenterInternal(n.center),void 0!==n.zoom?this.setZoom(n.zoom):n.resolution&&this.setResolution(n.resolution),void 0!==n.rotation&&this.setRotation(n.rotation)}if(i!==e){for(var r=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,h=this.targetRotation_,p=[];i<e;++i){var u=arguments[i],$={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||$hNqE$import$inAndOut,callback:o};if(u.center&&($.sourceCenter=a,$.targetCenter=u.center.slice(),a=$.targetCenter),void 0!==u.zoom?($.sourceResolution=s,$.targetResolution=this.getResolutionForZoom(u.zoom),s=$.targetResolution):u.resolution&&($.sourceResolution=s,$.targetResolution=u.resolution,s=$.targetResolution),void 0!==u.rotation){$.sourceRotation=h;var l=$hNqE$import$modulo(u.rotation-h+Math.PI,2*Math.PI)-Math.PI;$.targetRotation=h+l,h=$.targetRotation}$hNqE$export$isNoopAnimation($)?$.complete=!0:r+=$.duration,p.push($)}this.animations_.push(p),this.setHint($hNqE$import$ViewHint.ANIMATING,1),this.updateAnimations_()}else o&&$hNqE$var$animationCallback(o,!0)},o.prototype.getAnimating=function(){return this.hints_[$hNqE$import$ViewHint.ANIMATING]>0},o.prototype.getInteracting=function(){return this.hints_[$hNqE$import$ViewHint.INTERACTING]>0},o.prototype.cancelAnimations=function(){var t;this.setHint($hNqE$import$ViewHint.ANIMATING,-this.hints_[$hNqE$import$ViewHint.ANIMATING]);for(var o=0,e=this.animations_.length;o<e;++o){var i=this.animations_[o];if(i[0].callback&&$hNqE$var$animationCallback(i[0].callback,!1),!t)for(var n=0,r=i.length;n<r;++n){var a=i[n];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},o.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var i=this.animations_[e],n=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var h=t-s.start,p=s.duration>0?h/s.duration:1;p>=1?(s.complete=!0,p=1):n=!1;var u=s.easing(p);if(s.sourceCenter){var $=s.sourceCenter[0],l=s.sourceCenter[1],c=s.targetCenter[0],g=s.targetCenter[1];this.nextCenter_=s.targetCenter;var m=$+u*(c-$),_=l+u*(g-l);this.targetCenter_=[m,_]}if(s.sourceResolution&&s.targetResolution){var E=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var N=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(E,0,N,!0);this.targetCenter_=this.calculateCenterZoom(R,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var d=1===u?$hNqE$import$modulo(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var v=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(v,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),o=!0,!s.complete)break}}if(n){this.animations_[e]=null,this.setHint($hNqE$import$ViewHint.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var f=i[0].callback;f&&$hNqE$var$animationCallback(f,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},o.prototype.calculateCenterRotate=function(t,o){var e,i=this.getCenterInternal();return void 0!==i&&(e=[i[0]-o[0],i[1]-o[1]],$hNqE$import$rotateCoordinate(e,t-this.getRotation()),$hNqE$import$addCoordinate(e,o)),e},o.prototype.calculateCenterZoom=function(t,o){var e,i=this.getCenterInternal(),n=this.getResolution();void 0!==i&&void 0!==n&&(e=[o[0]-t*(o[0]-i[0])/n,o[1]-t*(o[1]-i[1])/n]);return e},o.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var e=o[0],i=o[1];return[Math.abs(e*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(e*Math.sin(t))+Math.abs(i*Math.cos(t))]}return o},o.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},o.prototype.getCenter=function(){var t=this.getCenterInternal();return t?$hNqE$import$toUserCoordinate(t,this.getProjection()):t},o.prototype.getCenterInternal=function(){return this.get($hNqE$import$ViewProperty.CENTER)},o.prototype.getConstraints=function(){return this.constraints_},o.prototype.getConstrainResolution=function(){return this.get(\"constrainResolution\")},o.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},o.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return $hNqE$import$toUserExtent(o,this.getProjection())},o.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSizeMinusPadding_(),e=this.getCenterInternal();$hNqE$import$assert(e,1);var i=this.getResolution();$hNqE$import$assert(void 0!==i,2);var n=this.getRotation();return $hNqE$import$assert(void 0!==n,3),$hNqE$import$getForViewAndSize(e,i,n,o)},o.prototype.getMaxResolution=function(){return this.maxResolution_},o.prototype.getMinResolution=function(){return this.minResolution_},o.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},o.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},o.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},o.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},o.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},o.prototype.getProjection=function(){return this.projection_},o.prototype.getResolution=function(){return this.get($hNqE$import$ViewProperty.RESOLUTION)},o.prototype.getResolutions=function(){return this.resolutions_},o.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal($hNqE$import$fromUserExtent(t,this.getProjection()),o)},o.prototype.getResolutionForExtentInternal=function(t,o){var e=o||this.getViewportSizeMinusPadding_(),i=$hNqE$import$getWidth(t)/e[0],n=$hNqE$import$getHeight(t)/e[1];return Math.max(i,n)},o.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return e/Math.pow(o,t*n)}},o.prototype.getRotation=function(){return this.get($hNqE$import$ViewProperty.ROTATION)},o.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/o;return function(t){return Math.log(e/t)/o/n}},o.prototype.getViewportSizeMinusPadding_=function(t){var o=this.getViewportSize_(t),e=this.padding_;return e&&(o=[o[0]-e[1]-e[3],o[1]-e[0]-e[2]]),o},o.prototype.getState=function(){var t=this.getProjection(),o=this.getResolution(),e=this.getRotation(),i=this.getCenterInternal(),n=this.padding_;if(n){var r=this.getViewportSizeMinusPadding_();i=$hNqE$var$calculateCenterOn(i,this.getViewportSize_(),[r[0]/2+n[3],r[1]/2+n[0]],o,e)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:e,zoom:this.getZoom()}},o.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},o.prototype.getZoomForResolution=function(t){var o,e,i=this.minZoom_||0;if(this.resolutions_){var n=$hNqE$import$linearFindNearest(this.resolutions_,t,1);i=n,o=this.resolutions_[n],e=n==this.resolutions_.length-1?2:o/this.resolutions_[n+1]}else o=this.maxResolution_,e=this.zoomFactor_;return i+Math.log(o/t)/Math.log(e)},o.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=$hNqE$import$clamp(Math.floor(t),0,this.resolutions_.length-2),e=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(e,$hNqE$import$clamp(t-o,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},o.prototype.fit=function(t,o){var e;if($hNqE$import$assert(Array.isArray(t)||\"function\"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){$hNqE$import$assert(!$hNqE$import$isEmpty(t),25);var i=$hNqE$import$fromUserExtent(t,this.getProjection());e=$hNqE$import$polygonFromExtent(i)}else if(\"Circle\"===t.getType()){i=$hNqE$import$fromUserExtent(t.getExtent(),this.getProjection());(e=$hNqE$import$polygonFromExtent(i)).rotate(this.getRotation(),$hNqE$import$getCenter(i))}else{var n=$hNqE$import$getUserProjection();e=n?t.clone().transform(n,this.getProjection()):t}this.fitInternal(e,o)},o.prototype.rotatedExtentForGeometry=function(t){for(var o=this.getRotation(),e=Math.cos(o),i=Math.sin(-o),n=t.getFlatCoordinates(),r=t.getStride(),a=1/0,s=1/0,h=-1/0,p=-1/0,u=0,$=n.length;u<$;u+=r){var l=n[u]*e-n[u+1]*i,c=n[u]*i+n[u+1]*e;a=Math.min(a,l),s=Math.min(s,c),h=Math.max(h,l),p=Math.max(p,c)}return[a,s,h,p]},o.prototype.fitInternal=function(t,o){var e=o||{},i=e.size;i||(i=this.getViewportSizeMinusPadding_());var n,r=void 0!==e.padding?e.padding:[0,0,0,0],a=void 0!==e.nearest&&e.nearest;n=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;var s=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(s,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);h=isNaN(h)?n:Math.max(h,n),h=this.getConstrainedResolution(h,a?0:1);var p=this.getRotation(),u=Math.sin(p),$=Math.cos(p),l=$hNqE$import$getCenter(s);l[0]+=(r[1]-r[3])/2*h,l[1]+=(r[0]-r[2])/2*h;var c=l[0]*$-l[1]*u,g=l[1]*$+l[0]*u,m=this.getConstrainedCenter([c,g],h),_=e.callback?e.callback:$hNqE$import$VOID;void 0!==e.duration?this.animateInternal({resolution:h,center:m,duration:e.duration,easing:e.easing},_):(this.targetResolution_=h,this.targetCenter_=m,this.applyTargetState_(!1,!0),$hNqE$var$animationCallback(_,!0))},o.prototype.centerOn=function(t,o,e){this.centerOnInternal($hNqE$import$fromUserCoordinate(t,this.getProjection()),o,e)},o.prototype.centerOnInternal=function(t,o,e){this.setCenterInternal($hNqE$var$calculateCenterOn(t,o,e,this.getResolution(),this.getRotation()))},o.prototype.calculateCenterShift=function(t,o,e,i){var n,r=this.padding_;if(r&&t){var a=this.getViewportSizeMinusPadding_(-e),s=$hNqE$var$calculateCenterOn(t,i,[a[0]/2+r[3],a[1]/2+r[0]],o,e);n=[t[0]-s[0],t[1]-s[1]]}return n},o.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},o.prototype.adjustCenter=function(t){var o=$hNqE$import$toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustResolution=function(t,o){var e=o&&$hNqE$import$fromUserCoordinate(o,this.getProjection());this.adjustResolutionInternal(t,e)},o.prototype.adjustResolutionInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(this.targetResolution_*t,0,i,e);o&&(this.targetCenter_=this.calculateCenterZoom(n,o)),this.targetResolution_*=t,this.applyTargetState_()},o.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},o.prototype.adjustRotation=function(t,o){o&&(o=$hNqE$import$fromUserCoordinate(o,this.getProjection())),this.adjustRotationInternal(t,o)},o.prototype.adjustRotationInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,e);o&&(this.targetCenter_=this.calculateCenterRotate(i,o)),this.targetRotation_+=t,this.applyTargetState_()},o.prototype.setCenter=function(t){this.setCenterInternal(t?$hNqE$import$fromUserCoordinate(t,this.getProjection()):t)},o.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},o.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},o.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},o.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},o.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},o.prototype.applyTargetState_=function(t,o){var e=this.getAnimating()||this.getInteracting()||o,i=this.constraints_.rotation(this.targetRotation_,e),n=this.getViewportSize_(i),r=this.constraints_.resolution(this.targetResolution_,0,n,e),a=this.constraints_.center(this.targetCenter_,r,n,e,this.calculateCenterShift(this.targetCenter_,r,i,n));this.get($hNqE$import$ViewProperty.ROTATION)!==i&&this.set($hNqE$import$ViewProperty.ROTATION,i),this.get($hNqE$import$ViewProperty.RESOLUTION)!==r&&(this.set($hNqE$import$ViewProperty.RESOLUTION,r),this.set(\"zoom\",this.getZoom(),!0)),a&&this.get($hNqE$import$ViewProperty.CENTER)&&$hNqE$import$equals(this.get($hNqE$import$ViewProperty.CENTER),a)||this.set($hNqE$import$ViewProperty.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},o.prototype.resolveConstraints=function(t,o,e){var i=void 0!==t?t:200,n=o||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,n,a),h=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,r,a));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=h,void this.applyTargetState_();var p=e||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&$hNqE$import$equals(this.getCenterInternal(),h)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:h,resolution:s,duration:i,easing:$hNqE$import$easeOut,anchor:p}))},o.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint($hNqE$import$ViewHint.INTERACTING,1)},o.prototype.endInteraction=function(t,o,e){var i=e&&$hNqE$import$fromUserCoordinate(e,this.getProjection());this.endInteractionInternal(t,o,i)},o.prototype.endInteractionInternal=function(t,o,e){this.setHint($hNqE$import$ViewHint.INTERACTING,-1),this.resolveConstraints(t,o,e)},o.prototype.getConstrainedCenter=function(t,o){var e=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),e)},o.prototype.getConstrainedZoom=function(t,o){var e=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(e,o))},o.prototype.getConstrainedResolution=function(t,o){var e=o||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)},o}($hNqE$import$BaseObject);function $hNqE$var$animationCallback(t,o){setTimeout(function(){t(o)},0)}function $hNqE$export$createCenterConstraint(t){if(void 0!==t.extent){var o=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return $hNqE$import$createExtent(t.extent,t.constrainOnlyCenter,o)}var e=$hNqE$import$createProjection(t.projection,\"EPSG:3857\");if(!0!==t.multiWorld&&e.isGlobal()){var i=e.getExtent().slice();return i[0]=-1/0,i[2]=1/0,$hNqE$import$createExtent(i,!1,!1)}return $hNqE$import$centerNone}function $hNqE$export$createResolutionConstraint(t){var o,e,i,n=void 0!==t.minZoom?t.minZoom:$hNqE$var$DEFAULT_MIN_ZOOM,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,p=void 0!==t.showFullExtent&&t.showFullExtent,u=$hNqE$import$createProjection(t.projection,\"EPSG:3857\"),$=u.getExtent(),l=t.constrainOnlyCenter,c=t.extent;if(s||c||!u.isGlobal()||(l=!1,c=$),void 0!==t.resolutions){var g=t.resolutions;e=g[n],i=void 0!==g[r]?g[r]:g[g.length-1],o=t.constrainResolution?$hNqE$import$createSnapToResolutions(g,h,!l&&c,p):$hNqE$import$createMinMaxResolution(e,i,h,!l&&c,p)}else{var m=($?Math.max($hNqE$import$getWidth($),$hNqE$import$getHeight($)):360*$hNqE$import$METERS_PER_UNIT[$hNqE$import$Units.DEGREES]/u.getMetersPerUnit())/$hNqE$import$DEFAULT_TILE_SIZE/Math.pow(2,$hNqE$var$DEFAULT_MIN_ZOOM),_=m/Math.pow(2,28-$hNqE$var$DEFAULT_MIN_ZOOM);void 0!==(e=t.maxResolution)?n=0:e=m/Math.pow(a,n),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(a,r):m/Math.pow(a,r):_),r=n+Math.floor(Math.log(e/i)/Math.log(a)),i=e/Math.pow(a,r-n),o=t.constrainResolution?$hNqE$import$createSnapToPower(a,e,i,h,!l&&c,p):$hNqE$import$createMinMaxResolution(e,i,h,!l&&c,p)}return{constraint:o,maxResolution:e,minResolution:i,minZoom:n,zoomFactor:a}}function $hNqE$export$createRotationConstraint(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?$hNqE$import$createSnapToZero():!1===o?$hNqE$import$rotationNone:\"number\"==typeof o?$hNqE$import$createSnapToN(o):$hNqE$import$rotationNone}return $hNqE$import$disable}function $hNqE$export$isNoopAnimation(t){return!(t.sourceCenter&&t.targetCenter&&!$hNqE$import$coordinatesEqual(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function $hNqE$var$calculateCenterOn(t,o,e,i,n){var r=Math.cos(-n),a=Math.sin(-n),s=t[0]*r-t[1]*a,h=t[1]*r+t[0]*a;return[(s+=(o[0]/2-e[0])*i)*r-(h+=(e[1]-o[1]/2)*i)*(a=-a),h*r+s*a]}$hNqE$exports.createCenterConstraint=$hNqE$export$createCenterConstraint,$hNqE$exports.createResolutionConstraint=$hNqE$export$createResolutionConstraint,$hNqE$exports.createRotationConstraint=$hNqE$export$createRotationConstraint,$hNqE$exports.isNoopAnimation=$hNqE$export$isNoopAnimation,$hNqE$exports.default=$hNqE$export$default;"},"sourceMaps":null,"error":null,"hash":"b6b40e3ad7eb2c7f071a863a0bdad61a","cacheData":{"env":{},"imports":{"$hNqE$import$BaseObject":["./Object.js","default"],"$hNqE$import$Units":["./proj/Units.js","default"],"$hNqE$import$ViewHint":["./ViewHint.js","default"],"$hNqE$import$ViewProperty":["./ViewProperty.js","default"],"$hNqE$import$DEFAULT_TILE_SIZE":["./tilegrid/common.js","DEFAULT_TILE_SIZE"],"$hNqE$import$METERS_PER_UNIT":["./proj.js","METERS_PER_UNIT"],"$hNqE$import$createProjection":["./proj.js","createProjection"],"$hNqE$import$disableCoordinateWarning":["./proj.js","disableCoordinateWarning"],"$hNqE$import$fromUserCoordinate":["./proj.js","fromUserCoordinate"],"$hNqE$import$fromUserExtent":["./proj.js","fromUserExtent"],"$hNqE$import$getUserProjection":["./proj.js","getUserProjection"],"$hNqE$import$toUserCoordinate":["./proj.js","toUserCoordinate"],"$hNqE$import$toUserExtent":["./proj.js","toUserExtent"],"$hNqE$import$VOID":["./functions.js","VOID"],"$hNqE$import$addCoordinate":["./coordinate.js","add"],"$hNqE$import$coordinatesEqual":["./coordinate.js","equals"],"$hNqE$import$equals":["./coordinate.js","equals"],"$hNqE$import$rotateCoordinate":["./coordinate.js","rotate"],"$hNqE$import$assert":["./asserts.js","assert"],"$hNqE$import$assign":["./obj.js","assign"],"$hNqE$import$centerNone":["./centerconstraint.js","none"],"$hNqE$import$createExtent":["./centerconstraint.js","createExtent"],"$hNqE$import$clamp":["./math.js","clamp"],"$hNqE$import$modulo":["./math.js","modulo"],"$hNqE$import$createMinMaxResolution":["./resolutionconstraint.js","createMinMaxResolution"],"$hNqE$import$createSnapToPower":["./resolutionconstraint.js","createSnapToPower"],"$hNqE$import$createSnapToResolutions":["./resolutionconstraint.js","createSnapToResolutions"],"$hNqE$import$createSnapToN":["./rotationconstraint.js","createSnapToN"],"$hNqE$import$createSnapToZero":["./rotationconstraint.js","createSnapToZero"],"$hNqE$import$disable":["./rotationconstraint.js","disable"],"$hNqE$import$rotationNone":["./rotationconstraint.js","none"],"$hNqE$import$easeOut":["./easing.js","easeOut"],"$hNqE$import$inAndOut":["./easing.js","inAndOut"],"$hNqE$import$getCenter":["./extent.js","getCenter"],"$hNqE$import$getForViewAndSize":["./extent.js","getForViewAndSize"],"$hNqE$import$getHeight":["./extent.js","getHeight"],"$hNqE$import$getWidth":["./extent.js","getWidth"],"$hNqE$import$isEmpty":["./extent.js","isEmpty"],"$hNqE$import$linearFindNearest":["./array.js","linearFindNearest"],"$hNqE$import$polygonFromExtent":["./geom/Polygon.js","fromExtent"]},"exports":{"createCenterConstraint":"$hNqE$export$createCenterConstraint","createResolutionConstraint":"$hNqE$export$createResolutionConstraint","createRotationConstraint":"$hNqE$export$createRotationConstraint","isNoopAnimation":"$hNqE$export$isNoopAnimation","default":"$hNqE$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}